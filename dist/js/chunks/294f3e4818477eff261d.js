(window.webpackJsonp=window.webpackJsonp||[]).push([[63],{"./node_modules/element-ui/lib/time-select.js":
/*!****************************************************!*\
  !*** ./node_modules/element-ui/lib/time-select.js ***!
  \****************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval("module.exports =\n/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/ \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create a fake namespace object\n/******/ \t// mode & 1: value is a module id, require it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/ \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1: behave like require\n/******/ \t__webpack_require__.t = function(value, mode) {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/ \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"/dist/\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 73);\n/******/ })\n/************************************************************************/\n/******/ ({\n\n/***/ 0:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return normalizeComponent; });\n/* globals __VUE_SSR_CONTEXT__ */\n\n// IMPORTANT: Do NOT use ES2015 features in this file (except for modules).\n// This module is a runtime utility for cleaner component module output and will\n// be included in the final webpack user bundle.\n\nfunction normalizeComponent (\n  scriptExports,\n  render,\n  staticRenderFns,\n  functionalTemplate,\n  injectStyles,\n  scopeId,\n  moduleIdentifier, /* server only */\n  shadowMode /* vue-cli only */\n) {\n  // Vue.extend constructor export interop\n  var options = typeof scriptExports === 'function'\n    ? scriptExports.options\n    : scriptExports\n\n  // render functions\n  if (render) {\n    options.render = render\n    options.staticRenderFns = staticRenderFns\n    options._compiled = true\n  }\n\n  // functional template\n  if (functionalTemplate) {\n    options.functional = true\n  }\n\n  // scopedId\n  if (scopeId) {\n    options._scopeId = 'data-v-' + scopeId\n  }\n\n  var hook\n  if (moduleIdentifier) { // server build\n    hook = function (context) {\n      // 2.3 injection\n      context =\n        context || // cached call\n        (this.$vnode && this.$vnode.ssrContext) || // stateful\n        (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional\n      // 2.2 with runInNewContext: true\n      if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n        context = __VUE_SSR_CONTEXT__\n      }\n      // inject component styles\n      if (injectStyles) {\n        injectStyles.call(this, context)\n      }\n      // register component module identifier for async chunk inferrence\n      if (context && context._registeredComponents) {\n        context._registeredComponents.add(moduleIdentifier)\n      }\n    }\n    // used by ssr in case component is cached and beforeCreate\n    // never gets called\n    options._ssrRegister = hook\n  } else if (injectStyles) {\n    hook = shadowMode\n      ? function () { injectStyles.call(this, this.$root.$options.shadowRoot) }\n      : injectStyles\n  }\n\n  if (hook) {\n    if (options.functional) {\n      // for template-only hot-reload because in that case the render fn doesn't\n      // go through the normalizer\n      options._injectStyles = hook\n      // register for functioal component in vue file\n      var originalRender = options.render\n      options.render = function renderWithStyleInjection (h, context) {\n        hook.call(context)\n        return originalRender(h, context)\n      }\n    } else {\n      // inject component registration as beforeCreate hook\n      var existing = options.beforeCreate\n      options.beforeCreate = existing\n        ? [].concat(existing, hook)\n        : [hook]\n    }\n  }\n\n  return {\n    exports: scriptExports,\n    options: options\n  }\n}\n\n\n/***/ }),\n\n/***/ 1:\n/***/ (function(module, exports) {\n\nmodule.exports = __webpack_require__(/*! element-ui/lib/utils/date-util */ \"./node_modules/element-ui/lib/utils/date-util.js\");\n\n/***/ }),\n\n/***/ 10:\n/***/ (function(module, exports) {\n\nmodule.exports = __webpack_require__(/*! element-ui/lib/input */ \"./node_modules/element-ui/lib/input.js\");\n\n/***/ }),\n\n/***/ 12:\n/***/ (function(module, exports) {\n\nmodule.exports = __webpack_require__(/*! element-ui/lib/utils/clickoutside */ \"./node_modules/element-ui/lib/utils/clickoutside.js\");\n\n/***/ }),\n\n/***/ 15:\n/***/ (function(module, exports) {\n\nmodule.exports = __webpack_require__(/*! element-ui/lib/scrollbar */ \"./node_modules/element-ui/lib/scrollbar.js\");\n\n/***/ }),\n\n/***/ 31:\n/***/ (function(module, exports) {\n\nmodule.exports = __webpack_require__(/*! element-ui/lib/utils/scroll-into-view */ \"./node_modules/element-ui/lib/utils/scroll-into-view.js\");\n\n/***/ }),\n\n/***/ 32:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib??vue-loader-options!./packages/date-picker/src/picker.vue?vue&type=template&id=79ae069f&\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return !_vm.ranged\n    ? _c(\n        \"el-input\",\n        _vm._b(\n          {\n            directives: [\n              {\n                name: \"clickoutside\",\n                rawName: \"v-clickoutside\",\n                value: _vm.handleClose,\n                expression: \"handleClose\"\n              }\n            ],\n            ref: \"reference\",\n            staticClass: \"el-date-editor\",\n            class: \"el-date-editor--\" + _vm.type,\n            attrs: {\n              readonly:\n                !_vm.editable ||\n                _vm.readonly ||\n                _vm.type === \"dates\" ||\n                _vm.type === \"week\",\n              disabled: _vm.pickerDisabled,\n              size: _vm.pickerSize,\n              name: _vm.name,\n              placeholder: _vm.placeholder,\n              value: _vm.displayValue,\n              validateEvent: false\n            },\n            on: {\n              focus: _vm.handleFocus,\n              input: function(value) {\n                return (_vm.userInput = value)\n              },\n              change: _vm.handleChange\n            },\n            nativeOn: {\n              keydown: function($event) {\n                return _vm.handleKeydown($event)\n              },\n              mouseenter: function($event) {\n                return _vm.handleMouseEnter($event)\n              },\n              mouseleave: function($event) {\n                _vm.showClose = false\n              }\n            }\n          },\n          \"el-input\",\n          _vm.firstInputId,\n          false\n        ),\n        [\n          _c(\"i\", {\n            staticClass: \"el-input__icon\",\n            class: _vm.triggerClass,\n            attrs: { slot: \"prefix\" },\n            on: { click: _vm.handleFocus },\n            slot: \"prefix\"\n          }),\n          _vm.haveTrigger\n            ? _c(\"i\", {\n                staticClass: \"el-input__icon\",\n                class: [_vm.showClose ? \"\" + _vm.clearIcon : \"\"],\n                attrs: { slot: \"suffix\" },\n                on: { click: _vm.handleClickIcon },\n                slot: \"suffix\"\n              })\n            : _vm._e()\n        ]\n      )\n    : _c(\n        \"div\",\n        {\n          directives: [\n            {\n              name: \"clickoutside\",\n              rawName: \"v-clickoutside\",\n              value: _vm.handleClose,\n              expression: \"handleClose\"\n            }\n          ],\n          ref: \"reference\",\n          staticClass: \"el-date-editor el-range-editor el-input__inner\",\n          class: [\n            \"el-date-editor--\" + _vm.type,\n            _vm.pickerSize ? \"el-range-editor--\" + _vm.pickerSize : \"\",\n            _vm.pickerDisabled ? \"is-disabled\" : \"\",\n            _vm.pickerVisible ? \"is-active\" : \"\"\n          ],\n          on: {\n            click: _vm.handleRangeClick,\n            mouseenter: _vm.handleMouseEnter,\n            mouseleave: function($event) {\n              _vm.showClose = false\n            },\n            keydown: _vm.handleKeydown\n          }\n        },\n        [\n          _c(\"i\", {\n            class: [\"el-input__icon\", \"el-range__icon\", _vm.triggerClass]\n          }),\n          _c(\n            \"input\",\n            _vm._b(\n              {\n                staticClass: \"el-range-input\",\n                attrs: {\n                  autocomplete: \"off\",\n                  placeholder: _vm.startPlaceholder,\n                  disabled: _vm.pickerDisabled,\n                  readonly: !_vm.editable || _vm.readonly,\n                  name: _vm.name && _vm.name[0]\n                },\n                domProps: { value: _vm.displayValue && _vm.displayValue[0] },\n                on: {\n                  input: _vm.handleStartInput,\n                  change: _vm.handleStartChange,\n                  focus: _vm.handleFocus\n                }\n              },\n              \"input\",\n              _vm.firstInputId,\n              false\n            )\n          ),\n          _vm._t(\"range-separator\", [\n            _c(\"span\", { staticClass: \"el-range-separator\" }, [\n              _vm._v(_vm._s(_vm.rangeSeparator))\n            ])\n          ]),\n          _c(\n            \"input\",\n            _vm._b(\n              {\n                staticClass: \"el-range-input\",\n                attrs: {\n                  autocomplete: \"off\",\n                  placeholder: _vm.endPlaceholder,\n                  disabled: _vm.pickerDisabled,\n                  readonly: !_vm.editable || _vm.readonly,\n                  name: _vm.name && _vm.name[1]\n                },\n                domProps: { value: _vm.displayValue && _vm.displayValue[1] },\n                on: {\n                  input: _vm.handleEndInput,\n                  change: _vm.handleEndChange,\n                  focus: _vm.handleFocus\n                }\n              },\n              \"input\",\n              _vm.secondInputId,\n              false\n            )\n          ),\n          _vm.haveTrigger\n            ? _c(\"i\", {\n                staticClass: \"el-input__icon el-range__close-icon\",\n                class: [_vm.showClose ? \"\" + _vm.clearIcon : \"\"],\n                on: { click: _vm.handleClickIcon }\n              })\n            : _vm._e()\n        ],\n        2\n      )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\n\n// CONCATENATED MODULE: ./packages/date-picker/src/picker.vue?vue&type=template&id=79ae069f&\n\n// EXTERNAL MODULE: external \"vue\"\nvar external_vue_ = __webpack_require__(7);\nvar external_vue_default = /*#__PURE__*/__webpack_require__.n(external_vue_);\n\n// EXTERNAL MODULE: external \"element-ui/lib/utils/clickoutside\"\nvar clickoutside_ = __webpack_require__(12);\nvar clickoutside_default = /*#__PURE__*/__webpack_require__.n(clickoutside_);\n\n// EXTERNAL MODULE: external \"element-ui/lib/utils/date-util\"\nvar date_util_ = __webpack_require__(1);\n\n// EXTERNAL MODULE: external \"element-ui/lib/utils/vue-popper\"\nvar vue_popper_ = __webpack_require__(5);\nvar vue_popper_default = /*#__PURE__*/__webpack_require__.n(vue_popper_);\n\n// EXTERNAL MODULE: external \"element-ui/lib/mixins/emitter\"\nvar emitter_ = __webpack_require__(4);\nvar emitter_default = /*#__PURE__*/__webpack_require__.n(emitter_);\n\n// EXTERNAL MODULE: external \"element-ui/lib/input\"\nvar input_ = __webpack_require__(10);\nvar input_default = /*#__PURE__*/__webpack_require__.n(input_);\n\n// EXTERNAL MODULE: external \"element-ui/lib/utils/merge\"\nvar merge_ = __webpack_require__(9);\nvar merge_default = /*#__PURE__*/__webpack_require__.n(merge_);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib??vue-loader-options!./packages/date-picker/src/picker.vue?vue&type=script&lang=js&\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n\n\n\n\n\nvar NewPopper = {\n  props: {\n    appendToBody: vue_popper_default.a.props.appendToBody,\n    offset: vue_popper_default.a.props.offset,\n    boundariesPadding: vue_popper_default.a.props.boundariesPadding,\n    arrowOffset: vue_popper_default.a.props.arrowOffset\n  },\n  methods: vue_popper_default.a.methods,\n  data: function data() {\n    return merge_default()({ visibleArrow: true }, vue_popper_default.a.data);\n  },\n\n  beforeDestroy: vue_popper_default.a.beforeDestroy\n};\n\nvar DEFAULT_FORMATS = {\n  date: 'yyyy-MM-dd',\n  month: 'yyyy-MM',\n  datetime: 'yyyy-MM-dd HH:mm:ss',\n  time: 'HH:mm:ss',\n  week: 'yyyywWW',\n  timerange: 'HH:mm:ss',\n  daterange: 'yyyy-MM-dd',\n  monthrange: 'yyyy-MM',\n  datetimerange: 'yyyy-MM-dd HH:mm:ss',\n  year: 'yyyy'\n};\nvar HAVE_TRIGGER_TYPES = ['date', 'datetime', 'time', 'time-select', 'week', 'month', 'year', 'daterange', 'monthrange', 'timerange', 'datetimerange', 'dates'];\nvar pickervue_type_script_lang_js_DATE_FORMATTER = function DATE_FORMATTER(value, format) {\n  if (format === 'timestamp') return value.getTime();\n  return Object(date_util_[\"formatDate\"])(value, format);\n};\nvar pickervue_type_script_lang_js_DATE_PARSER = function DATE_PARSER(text, format) {\n  if (format === 'timestamp') return new Date(Number(text));\n  return Object(date_util_[\"parseDate\"])(text, format);\n};\nvar RANGE_FORMATTER = function RANGE_FORMATTER(value, format) {\n  if (Array.isArray(value) && value.length === 2) {\n    var start = value[0];\n    var end = value[1];\n\n    if (start && end) {\n      return [pickervue_type_script_lang_js_DATE_FORMATTER(start, format), pickervue_type_script_lang_js_DATE_FORMATTER(end, format)];\n    }\n  }\n  return '';\n};\nvar RANGE_PARSER = function RANGE_PARSER(array, format, separator) {\n  if (!Array.isArray(array)) {\n    array = array.split(separator);\n  }\n  if (array.length === 2) {\n    var range1 = array[0];\n    var range2 = array[1];\n\n    return [pickervue_type_script_lang_js_DATE_PARSER(range1, format), pickervue_type_script_lang_js_DATE_PARSER(range2, format)];\n  }\n  return [];\n};\nvar TYPE_VALUE_RESOLVER_MAP = {\n  default: {\n    formatter: function formatter(value) {\n      if (!value) return '';\n      return '' + value;\n    },\n    parser: function parser(text) {\n      if (text === undefined || text === '') return null;\n      return text;\n    }\n  },\n  week: {\n    formatter: function formatter(value, format) {\n      var week = Object(date_util_[\"getWeekNumber\"])(value);\n      var month = value.getMonth();\n      var trueDate = new Date(value);\n      if (week === 1 && month === 11) {\n        trueDate.setHours(0, 0, 0, 0);\n        trueDate.setDate(trueDate.getDate() + 3 - (trueDate.getDay() + 6) % 7);\n      }\n      var date = Object(date_util_[\"formatDate\"])(trueDate, format);\n\n      date = /WW/.test(date) ? date.replace(/WW/, week < 10 ? '0' + week : week) : date.replace(/W/, week);\n      return date;\n    },\n    parser: function parser(text, format) {\n      // parse as if a normal date\n      return TYPE_VALUE_RESOLVER_MAP.date.parser(text, format);\n    }\n  },\n  date: {\n    formatter: pickervue_type_script_lang_js_DATE_FORMATTER,\n    parser: pickervue_type_script_lang_js_DATE_PARSER\n  },\n  datetime: {\n    formatter: pickervue_type_script_lang_js_DATE_FORMATTER,\n    parser: pickervue_type_script_lang_js_DATE_PARSER\n  },\n  daterange: {\n    formatter: RANGE_FORMATTER,\n    parser: RANGE_PARSER\n  },\n  monthrange: {\n    formatter: RANGE_FORMATTER,\n    parser: RANGE_PARSER\n  },\n  datetimerange: {\n    formatter: RANGE_FORMATTER,\n    parser: RANGE_PARSER\n  },\n  timerange: {\n    formatter: RANGE_FORMATTER,\n    parser: RANGE_PARSER\n  },\n  time: {\n    formatter: pickervue_type_script_lang_js_DATE_FORMATTER,\n    parser: pickervue_type_script_lang_js_DATE_PARSER\n  },\n  month: {\n    formatter: pickervue_type_script_lang_js_DATE_FORMATTER,\n    parser: pickervue_type_script_lang_js_DATE_PARSER\n  },\n  year: {\n    formatter: pickervue_type_script_lang_js_DATE_FORMATTER,\n    parser: pickervue_type_script_lang_js_DATE_PARSER\n  },\n  number: {\n    formatter: function formatter(value) {\n      if (!value) return '';\n      return '' + value;\n    },\n    parser: function parser(text) {\n      var result = Number(text);\n\n      if (!isNaN(text)) {\n        return result;\n      } else {\n        return null;\n      }\n    }\n  },\n  dates: {\n    formatter: function formatter(value, format) {\n      return value.map(function (date) {\n        return pickervue_type_script_lang_js_DATE_FORMATTER(date, format);\n      });\n    },\n    parser: function parser(value, format) {\n      return (typeof value === 'string' ? value.split(', ') : value).map(function (date) {\n        return date instanceof Date ? date : pickervue_type_script_lang_js_DATE_PARSER(date, format);\n      });\n    }\n  }\n};\nvar PLACEMENT_MAP = {\n  left: 'bottom-start',\n  center: 'bottom',\n  right: 'bottom-end'\n};\n\nvar parseAsFormatAndType = function parseAsFormatAndType(value, customFormat, type) {\n  var rangeSeparator = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : '-';\n\n  if (!value) return null;\n  var parser = (TYPE_VALUE_RESOLVER_MAP[type] || TYPE_VALUE_RESOLVER_MAP['default']).parser;\n  var format = customFormat || DEFAULT_FORMATS[type];\n  return parser(value, format, rangeSeparator);\n};\n\nvar formatAsFormatAndType = function formatAsFormatAndType(value, customFormat, type) {\n  if (!value) return null;\n  var formatter = (TYPE_VALUE_RESOLVER_MAP[type] || TYPE_VALUE_RESOLVER_MAP['default']).formatter;\n  var format = customFormat || DEFAULT_FORMATS[type];\n  return formatter(value, format);\n};\n\n/*\n * Considers:\n *   1. Date object\n *   2. date string\n *   3. array of 1 or 2\n */\nvar valueEquals = function valueEquals(a, b) {\n  // considers Date object and string\n  var dateEquals = function dateEquals(a, b) {\n    var aIsDate = a instanceof Date;\n    var bIsDate = b instanceof Date;\n    if (aIsDate && bIsDate) {\n      return a.getTime() === b.getTime();\n    }\n    if (!aIsDate && !bIsDate) {\n      return a === b;\n    }\n    return false;\n  };\n\n  var aIsArray = a instanceof Array;\n  var bIsArray = b instanceof Array;\n  if (aIsArray && bIsArray) {\n    if (a.length !== b.length) {\n      return false;\n    }\n    return a.every(function (item, index) {\n      return dateEquals(item, b[index]);\n    });\n  }\n  if (!aIsArray && !bIsArray) {\n    return dateEquals(a, b);\n  }\n  return false;\n};\n\nvar isString = function isString(val) {\n  return typeof val === 'string' || val instanceof String;\n};\n\nvar validator = function validator(val) {\n  // either: String, Array of String, null / undefined\n  return val === null || val === undefined || isString(val) || Array.isArray(val) && val.length === 2 && val.every(isString);\n};\n\n/* harmony default export */ var pickervue_type_script_lang_js_ = ({\n  mixins: [emitter_default.a, NewPopper],\n\n  inject: {\n    elForm: {\n      default: ''\n    },\n    elFormItem: {\n      default: ''\n    }\n  },\n\n  props: {\n    size: String,\n    format: String,\n    valueFormat: String,\n    readonly: Boolean,\n    placeholder: String,\n    startPlaceholder: String,\n    endPlaceholder: String,\n    prefixIcon: String,\n    clearIcon: {\n      type: String,\n      default: 'el-icon-circle-close'\n    },\n    name: {\n      default: '',\n      validator: validator\n    },\n    disabled: Boolean,\n    clearable: {\n      type: Boolean,\n      default: true\n    },\n    id: {\n      default: '',\n      validator: validator\n    },\n    popperClass: String,\n    editable: {\n      type: Boolean,\n      default: true\n    },\n    align: {\n      type: String,\n      default: 'left'\n    },\n    value: {},\n    defaultValue: {},\n    defaultTime: {},\n    rangeSeparator: {\n      default: '-'\n    },\n    pickerOptions: {},\n    unlinkPanels: Boolean,\n    validateEvent: {\n      type: Boolean,\n      default: true\n    }\n  },\n\n  components: { ElInput: input_default.a },\n\n  directives: { Clickoutside: clickoutside_default.a },\n\n  data: function data() {\n    return {\n      pickerVisible: false,\n      showClose: false,\n      userInput: null,\n      valueOnOpen: null, // value when picker opens, used to determine whether to emit change\n      unwatchPickerOptions: null\n    };\n  },\n\n\n  watch: {\n    pickerVisible: function pickerVisible(val) {\n      if (this.readonly || this.pickerDisabled) return;\n      if (val) {\n        this.showPicker();\n        this.valueOnOpen = Array.isArray(this.value) ? [].concat(this.value) : this.value;\n      } else {\n        this.hidePicker();\n        this.emitChange(this.value);\n        this.userInput = null;\n        if (this.validateEvent) {\n          this.dispatch('ElFormItem', 'el.form.blur');\n        }\n        this.$emit('blur', this);\n        this.blur();\n      }\n    },\n\n    parsedValue: {\n      immediate: true,\n      handler: function handler(val) {\n        if (this.picker) {\n          this.picker.value = val;\n        }\n      }\n    },\n    defaultValue: function defaultValue(val) {\n      // NOTE: should eventually move to jsx style picker + panel ?\n      if (this.picker) {\n        this.picker.defaultValue = val;\n      }\n    },\n    value: function value(val, oldVal) {\n      if (!valueEquals(val, oldVal) && !this.pickerVisible && this.validateEvent) {\n        this.dispatch('ElFormItem', 'el.form.change', val);\n      }\n    }\n  },\n\n  computed: {\n    ranged: function ranged() {\n      return this.type.indexOf('range') > -1;\n    },\n    reference: function reference() {\n      var reference = this.$refs.reference;\n      return reference.$el || reference;\n    },\n    refInput: function refInput() {\n      if (this.reference) {\n        return [].slice.call(this.reference.querySelectorAll('input'));\n      }\n      return [];\n    },\n    valueIsEmpty: function valueIsEmpty() {\n      var val = this.value;\n      if (Array.isArray(val)) {\n        for (var i = 0, len = val.length; i < len; i++) {\n          if (val[i]) {\n            return false;\n          }\n        }\n      } else {\n        if (val) {\n          return false;\n        }\n      }\n      return true;\n    },\n    triggerClass: function triggerClass() {\n      return this.prefixIcon || (this.type.indexOf('time') !== -1 ? 'el-icon-time' : 'el-icon-date');\n    },\n    selectionMode: function selectionMode() {\n      if (this.type === 'week') {\n        return 'week';\n      } else if (this.type === 'month') {\n        return 'month';\n      } else if (this.type === 'year') {\n        return 'year';\n      } else if (this.type === 'dates') {\n        return 'dates';\n      }\n\n      return 'day';\n    },\n    haveTrigger: function haveTrigger() {\n      if (typeof this.showTrigger !== 'undefined') {\n        return this.showTrigger;\n      }\n      return HAVE_TRIGGER_TYPES.indexOf(this.type) !== -1;\n    },\n    displayValue: function displayValue() {\n      var formattedValue = formatAsFormatAndType(this.parsedValue, this.format, this.type, this.rangeSeparator);\n      if (Array.isArray(this.userInput)) {\n        return [this.userInput[0] || formattedValue && formattedValue[0] || '', this.userInput[1] || formattedValue && formattedValue[1] || ''];\n      } else if (this.userInput !== null) {\n        return this.userInput;\n      } else if (formattedValue) {\n        return this.type === 'dates' ? formattedValue.join(', ') : formattedValue;\n      } else {\n        return '';\n      }\n    },\n    parsedValue: function parsedValue() {\n      if (!this.value) return this.value; // component value is not set\n      if (this.type === 'time-select') return this.value; // time-select does not require parsing, this might change in next major version\n\n      var valueIsDateObject = Object(date_util_[\"isDateObject\"])(this.value) || Array.isArray(this.value) && this.value.every(date_util_[\"isDateObject\"]);\n      if (valueIsDateObject) {\n        return this.value;\n      }\n\n      if (this.valueFormat) {\n        return parseAsFormatAndType(this.value, this.valueFormat, this.type, this.rangeSeparator) || this.value;\n      }\n\n      // NOTE: deal with common but incorrect usage, should remove in next major version\n      // user might provide string / timestamp without value-format, coerce them into date (or array of date)\n      return Array.isArray(this.value) ? this.value.map(function (val) {\n        return new Date(val);\n      }) : new Date(this.value);\n    },\n    _elFormItemSize: function _elFormItemSize() {\n      return (this.elFormItem || {}).elFormItemSize;\n    },\n    pickerSize: function pickerSize() {\n      return this.size || this._elFormItemSize || (this.$ELEMENT || {}).size;\n    },\n    pickerDisabled: function pickerDisabled() {\n      return this.disabled || (this.elForm || {}).disabled;\n    },\n    firstInputId: function firstInputId() {\n      var obj = {};\n      var id = void 0;\n      if (this.ranged) {\n        id = this.id && this.id[0];\n      } else {\n        id = this.id;\n      }\n      if (id) obj.id = id;\n      return obj;\n    },\n    secondInputId: function secondInputId() {\n      var obj = {};\n      var id = void 0;\n      if (this.ranged) {\n        id = this.id && this.id[1];\n      }\n      if (id) obj.id = id;\n      return obj;\n    }\n  },\n\n  created: function created() {\n    // vue-popper\n    this.popperOptions = {\n      boundariesPadding: 0,\n      gpuAcceleration: false\n    };\n    this.placement = PLACEMENT_MAP[this.align] || PLACEMENT_MAP.left;\n\n    this.$on('fieldReset', this.handleFieldReset);\n  },\n\n\n  methods: {\n    focus: function focus() {\n      if (!this.ranged) {\n        this.$refs.reference.focus();\n      } else {\n        this.handleFocus();\n      }\n    },\n    blur: function blur() {\n      this.refInput.forEach(function (input) {\n        return input.blur();\n      });\n    },\n\n\n    // {parse, formatTo} Value deals maps component value with internal Date\n    parseValue: function parseValue(value) {\n      var isParsed = Object(date_util_[\"isDateObject\"])(value) || Array.isArray(value) && value.every(date_util_[\"isDateObject\"]);\n      if (this.valueFormat && !isParsed) {\n        return parseAsFormatAndType(value, this.valueFormat, this.type, this.rangeSeparator) || value;\n      } else {\n        return value;\n      }\n    },\n    formatToValue: function formatToValue(date) {\n      var isFormattable = Object(date_util_[\"isDateObject\"])(date) || Array.isArray(date) && date.every(date_util_[\"isDateObject\"]);\n      if (this.valueFormat && isFormattable) {\n        return formatAsFormatAndType(date, this.valueFormat, this.type, this.rangeSeparator);\n      } else {\n        return date;\n      }\n    },\n\n\n    // {parse, formatTo} String deals with user input\n    parseString: function parseString(value) {\n      var type = Array.isArray(value) ? this.type : this.type.replace('range', '');\n      return parseAsFormatAndType(value, this.format, type);\n    },\n    formatToString: function formatToString(value) {\n      var type = Array.isArray(value) ? this.type : this.type.replace('range', '');\n      return formatAsFormatAndType(value, this.format, type);\n    },\n    handleMouseEnter: function handleMouseEnter() {\n      if (this.readonly || this.pickerDisabled) return;\n      if (!this.valueIsEmpty && this.clearable) {\n        this.showClose = true;\n      }\n    },\n    handleChange: function handleChange() {\n      if (this.userInput) {\n        var value = this.parseString(this.displayValue);\n        if (value) {\n          this.picker.value = value;\n          if (this.isValidValue(value)) {\n            this.emitInput(value);\n            this.userInput = null;\n          }\n        }\n      }\n      if (this.userInput === '') {\n        this.emitInput(null);\n        this.emitChange(null);\n        this.userInput = null;\n      }\n    },\n    handleStartInput: function handleStartInput(event) {\n      if (this.userInput) {\n        this.userInput = [event.target.value, this.userInput[1]];\n      } else {\n        this.userInput = [event.target.value, null];\n      }\n    },\n    handleEndInput: function handleEndInput(event) {\n      if (this.userInput) {\n        this.userInput = [this.userInput[0], event.target.value];\n      } else {\n        this.userInput = [null, event.target.value];\n      }\n    },\n    handleStartChange: function handleStartChange(event) {\n      var value = this.parseString(this.userInput && this.userInput[0]);\n      if (value) {\n        this.userInput = [this.formatToString(value), this.displayValue[1]];\n        var newValue = [value, this.picker.value && this.picker.value[1]];\n        this.picker.value = newValue;\n        if (this.isValidValue(newValue)) {\n          this.emitInput(newValue);\n          this.userInput = null;\n        }\n      }\n    },\n    handleEndChange: function handleEndChange(event) {\n      var value = this.parseString(this.userInput && this.userInput[1]);\n      if (value) {\n        this.userInput = [this.displayValue[0], this.formatToString(value)];\n        var newValue = [this.picker.value && this.picker.value[0], value];\n        this.picker.value = newValue;\n        if (this.isValidValue(newValue)) {\n          this.emitInput(newValue);\n          this.userInput = null;\n        }\n      }\n    },\n    handleClickIcon: function handleClickIcon(event) {\n      if (this.readonly || this.pickerDisabled) return;\n      if (this.showClose) {\n        this.valueOnOpen = this.value;\n        event.stopPropagation();\n        this.emitInput(null);\n        this.emitChange(null);\n        this.showClose = false;\n        if (this.picker && typeof this.picker.handleClear === 'function') {\n          this.picker.handleClear();\n        }\n      } else {\n        this.pickerVisible = !this.pickerVisible;\n      }\n    },\n    handleClose: function handleClose() {\n      if (!this.pickerVisible) return;\n      this.pickerVisible = false;\n\n      if (this.type === 'dates') {\n        // restore to former value\n        var oldValue = parseAsFormatAndType(this.valueOnOpen, this.valueFormat, this.type, this.rangeSeparator) || this.valueOnOpen;\n        this.emitInput(oldValue);\n      }\n    },\n    handleFieldReset: function handleFieldReset(initialValue) {\n      this.userInput = initialValue === '' ? null : initialValue;\n    },\n    handleFocus: function handleFocus() {\n      var type = this.type;\n\n      if (HAVE_TRIGGER_TYPES.indexOf(type) !== -1 && !this.pickerVisible) {\n        this.pickerVisible = true;\n      }\n      this.$emit('focus', this);\n    },\n    handleKeydown: function handleKeydown(event) {\n      var _this = this;\n\n      var keyCode = event.keyCode;\n\n      // ESC\n      if (keyCode === 27) {\n        this.pickerVisible = false;\n        event.stopPropagation();\n        return;\n      }\n\n      // Tab\n      if (keyCode === 9) {\n        if (!this.ranged) {\n          this.handleChange();\n          this.pickerVisible = this.picker.visible = false;\n          this.blur();\n          event.stopPropagation();\n        } else {\n          // user may change focus between two input\n          setTimeout(function () {\n            if (_this.refInput.indexOf(document.activeElement) === -1) {\n              _this.pickerVisible = false;\n              _this.blur();\n              event.stopPropagation();\n            }\n          }, 0);\n        }\n        return;\n      }\n\n      // Enter\n      if (keyCode === 13) {\n        if (this.userInput === '' || this.isValidValue(this.parseString(this.displayValue))) {\n          this.handleChange();\n          this.pickerVisible = this.picker.visible = false;\n          this.blur();\n        }\n        event.stopPropagation();\n        return;\n      }\n\n      // if user is typing, do not let picker handle key input\n      if (this.userInput) {\n        event.stopPropagation();\n        return;\n      }\n\n      // delegate other keys to panel\n      if (this.picker && this.picker.handleKeydown) {\n        this.picker.handleKeydown(event);\n      }\n    },\n    handleRangeClick: function handleRangeClick() {\n      var type = this.type;\n\n      if (HAVE_TRIGGER_TYPES.indexOf(type) !== -1 && !this.pickerVisible) {\n        this.pickerVisible = true;\n      }\n      this.$emit('focus', this);\n    },\n    hidePicker: function hidePicker() {\n      if (this.picker) {\n        this.picker.resetView && this.picker.resetView();\n        this.pickerVisible = this.picker.visible = false;\n        this.destroyPopper();\n      }\n    },\n    showPicker: function showPicker() {\n      var _this2 = this;\n\n      if (this.$isServer) return;\n      if (!this.picker) {\n        this.mountPicker();\n      }\n      this.pickerVisible = this.picker.visible = true;\n\n      this.updatePopper();\n\n      this.picker.value = this.parsedValue;\n      this.picker.resetView && this.picker.resetView();\n\n      this.$nextTick(function () {\n        _this2.picker.adjustSpinners && _this2.picker.adjustSpinners();\n      });\n    },\n    mountPicker: function mountPicker() {\n      var _this3 = this;\n\n      this.picker = new external_vue_default.a(this.panel).$mount();\n      this.picker.defaultValue = this.defaultValue;\n      this.picker.defaultTime = this.defaultTime;\n      this.picker.popperClass = this.popperClass;\n      this.popperElm = this.picker.$el;\n      this.picker.width = this.reference.getBoundingClientRect().width;\n      this.picker.showTime = this.type === 'datetime' || this.type === 'datetimerange';\n      this.picker.selectionMode = this.selectionMode;\n      this.picker.unlinkPanels = this.unlinkPanels;\n      this.picker.arrowControl = this.arrowControl || this.timeArrowControl || false;\n      this.$watch('format', function (format) {\n        _this3.picker.format = format;\n      });\n\n      var updateOptions = function updateOptions() {\n        var options = _this3.pickerOptions;\n\n        if (options && options.selectableRange) {\n          var ranges = options.selectableRange;\n          var parser = TYPE_VALUE_RESOLVER_MAP.datetimerange.parser;\n          var format = DEFAULT_FORMATS.timerange;\n\n          ranges = Array.isArray(ranges) ? ranges : [ranges];\n          _this3.picker.selectableRange = ranges.map(function (range) {\n            return parser(range, format, _this3.rangeSeparator);\n          });\n        }\n\n        for (var option in options) {\n          if (options.hasOwnProperty(option) &&\n          // 忽略 time-picker 的该配置项\n          option !== 'selectableRange') {\n            _this3.picker[option] = options[option];\n          }\n        }\n\n        // main format must prevail over undocumented pickerOptions.format\n        if (_this3.format) {\n          _this3.picker.format = _this3.format;\n        }\n      };\n      updateOptions();\n      this.unwatchPickerOptions = this.$watch('pickerOptions', function () {\n        return updateOptions();\n      }, { deep: true });\n      this.$el.appendChild(this.picker.$el);\n      this.picker.resetView && this.picker.resetView();\n\n      this.picker.$on('dodestroy', this.doDestroy);\n      this.picker.$on('pick', function () {\n        var date = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n        var visible = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n        _this3.userInput = null;\n        _this3.pickerVisible = _this3.picker.visible = visible;\n        _this3.emitInput(date);\n        _this3.picker.resetView && _this3.picker.resetView();\n      });\n\n      this.picker.$on('select-range', function (start, end, pos) {\n        if (_this3.refInput.length === 0) return;\n        if (!pos || pos === 'min') {\n          _this3.refInput[0].setSelectionRange(start, end);\n          _this3.refInput[0].focus();\n        } else if (pos === 'max') {\n          _this3.refInput[1].setSelectionRange(start, end);\n          _this3.refInput[1].focus();\n        }\n      });\n    },\n    unmountPicker: function unmountPicker() {\n      if (this.picker) {\n        this.picker.$destroy();\n        this.picker.$off();\n        if (typeof this.unwatchPickerOptions === 'function') {\n          this.unwatchPickerOptions();\n        }\n        this.picker.$el.parentNode.removeChild(this.picker.$el);\n      }\n    },\n    emitChange: function emitChange(val) {\n      // determine user real change only\n      if (!valueEquals(val, this.valueOnOpen)) {\n        this.$emit('change', val);\n        this.valueOnOpen = val;\n        if (this.validateEvent) {\n          this.dispatch('ElFormItem', 'el.form.change', val);\n        }\n      }\n    },\n    emitInput: function emitInput(val) {\n      var formatted = this.formatToValue(val);\n      if (!valueEquals(this.value, formatted)) {\n        this.$emit('input', formatted);\n      }\n    },\n    isValidValue: function isValidValue(value) {\n      if (!this.picker) {\n        this.mountPicker();\n      }\n      if (this.picker.isValidValue) {\n        return value && this.picker.isValidValue(value);\n      } else {\n        return true;\n      }\n    }\n  }\n});\n// CONCATENATED MODULE: ./packages/date-picker/src/picker.vue?vue&type=script&lang=js&\n /* harmony default export */ var src_pickervue_type_script_lang_js_ = (pickervue_type_script_lang_js_); \n// EXTERNAL MODULE: ./node_modules/vue-loader/lib/runtime/componentNormalizer.js\nvar componentNormalizer = __webpack_require__(0);\n\n// CONCATENATED MODULE: ./packages/date-picker/src/picker.vue\n\n\n\n\n\n/* normalize component */\n\nvar component = Object(componentNormalizer[\"a\" /* default */])(\n  src_pickervue_type_script_lang_js_,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (false) { var api; }\ncomponent.options.__file = \"packages/date-picker/src/picker.vue\"\n/* harmony default export */ var picker = __webpack_exports__[\"a\"] = (component.exports);\n\n/***/ }),\n\n/***/ 4:\n/***/ (function(module, exports) {\n\nmodule.exports = __webpack_require__(/*! element-ui/lib/mixins/emitter */ \"./node_modules/element-ui/lib/mixins/emitter.js\");\n\n/***/ }),\n\n/***/ 5:\n/***/ (function(module, exports) {\n\nmodule.exports = __webpack_require__(/*! element-ui/lib/utils/vue-popper */ \"./node_modules/element-ui/lib/utils/vue-popper.js\");\n\n/***/ }),\n\n/***/ 7:\n/***/ (function(module, exports) {\n\nmodule.exports = __webpack_require__(/*! vue */ \"./node_modules/vue/dist/vue.esm.js\");\n\n/***/ }),\n\n/***/ 73:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./packages/date-picker/src/picker.vue + 4 modules\nvar picker = __webpack_require__(32);\n\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib??vue-loader-options!./packages/date-picker/src/panel/time-select.vue?vue&type=template&id=51ab9320&\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"transition\",\n    {\n      attrs: { name: \"el-zoom-in-top\" },\n      on: {\n        \"before-enter\": _vm.handleMenuEnter,\n        \"after-leave\": function($event) {\n          _vm.$emit(\"dodestroy\")\n        }\n      }\n    },\n    [\n      _c(\n        \"div\",\n        {\n          directives: [\n            {\n              name: \"show\",\n              rawName: \"v-show\",\n              value: _vm.visible,\n              expression: \"visible\"\n            }\n          ],\n          ref: \"popper\",\n          staticClass: \"el-picker-panel time-select el-popper\",\n          class: _vm.popperClass,\n          style: { width: _vm.width + \"px\" }\n        },\n        [\n          _c(\n            \"el-scrollbar\",\n            {\n              attrs: { noresize: \"\", \"wrap-class\": \"el-picker-panel__content\" }\n            },\n            _vm._l(_vm.items, function(item) {\n              return _c(\n                \"div\",\n                {\n                  key: item.value,\n                  staticClass: \"time-select-item\",\n                  class: {\n                    selected: _vm.value === item.value,\n                    disabled: item.disabled,\n                    default: item.value === _vm.defaultValue\n                  },\n                  attrs: { disabled: item.disabled },\n                  on: {\n                    click: function($event) {\n                      _vm.handleClick(item)\n                    }\n                  }\n                },\n                [_vm._v(_vm._s(item.value))]\n              )\n            }),\n            0\n          )\n        ],\n        1\n      )\n    ]\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\n\n// CONCATENATED MODULE: ./packages/date-picker/src/panel/time-select.vue?vue&type=template&id=51ab9320&\n\n// EXTERNAL MODULE: external \"element-ui/lib/scrollbar\"\nvar scrollbar_ = __webpack_require__(15);\nvar scrollbar_default = /*#__PURE__*/__webpack_require__.n(scrollbar_);\n\n// EXTERNAL MODULE: external \"element-ui/lib/utils/scroll-into-view\"\nvar scroll_into_view_ = __webpack_require__(31);\nvar scroll_into_view_default = /*#__PURE__*/__webpack_require__.n(scroll_into_view_);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib??vue-loader-options!./packages/date-picker/src/panel/time-select.vue?vue&type=script&lang=js&\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\nvar parseTime = function parseTime(time) {\n  var values = (time || '').split(':');\n  if (values.length >= 2) {\n    var hours = parseInt(values[0], 10);\n    var minutes = parseInt(values[1], 10);\n\n    return {\n      hours: hours,\n      minutes: minutes\n    };\n  }\n  /* istanbul ignore next */\n  return null;\n};\n\nvar compareTime = function compareTime(time1, time2) {\n  var value1 = parseTime(time1);\n  var value2 = parseTime(time2);\n\n  var minutes1 = value1.minutes + value1.hours * 60;\n  var minutes2 = value2.minutes + value2.hours * 60;\n\n  if (minutes1 === minutes2) {\n    return 0;\n  }\n\n  return minutes1 > minutes2 ? 1 : -1;\n};\n\nvar formatTime = function formatTime(time) {\n  return (time.hours < 10 ? '0' + time.hours : time.hours) + ':' + (time.minutes < 10 ? '0' + time.minutes : time.minutes);\n};\n\nvar nextTime = function nextTime(time, step) {\n  var timeValue = parseTime(time);\n  var stepValue = parseTime(step);\n\n  var next = {\n    hours: timeValue.hours,\n    minutes: timeValue.minutes\n  };\n\n  next.minutes += stepValue.minutes;\n  next.hours += stepValue.hours;\n\n  next.hours += Math.floor(next.minutes / 60);\n  next.minutes = next.minutes % 60;\n\n  return formatTime(next);\n};\n\n/* harmony default export */ var time_selectvue_type_script_lang_js_ = ({\n  components: { ElScrollbar: scrollbar_default.a },\n\n  watch: {\n    value: function value(val) {\n      var _this = this;\n\n      if (!val) return;\n      this.$nextTick(function () {\n        return _this.scrollToOption();\n      });\n    }\n  },\n\n  methods: {\n    handleClick: function handleClick(item) {\n      if (!item.disabled) {\n        this.$emit('pick', item.value);\n      }\n    },\n    handleClear: function handleClear() {\n      this.$emit('pick', null);\n    },\n    scrollToOption: function scrollToOption() {\n      var selector = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '.selected';\n\n      var menu = this.$refs.popper.querySelector('.el-picker-panel__content');\n      scroll_into_view_default()(menu, menu.querySelector(selector));\n    },\n    handleMenuEnter: function handleMenuEnter() {\n      var _this2 = this;\n\n      var selected = this.items.map(function (item) {\n        return item.value;\n      }).indexOf(this.value) !== -1;\n      var hasDefault = this.items.map(function (item) {\n        return item.value;\n      }).indexOf(this.defaultValue) !== -1;\n      var option = selected && '.selected' || hasDefault && '.default' || '.time-select-item:not(.disabled)';\n      this.$nextTick(function () {\n        return _this2.scrollToOption(option);\n      });\n    },\n    scrollDown: function scrollDown(step) {\n      var items = this.items;\n      var length = items.length;\n      var total = items.length;\n      var index = items.map(function (item) {\n        return item.value;\n      }).indexOf(this.value);\n      while (total--) {\n        index = (index + step + length) % length;\n        if (!items[index].disabled) {\n          this.$emit('pick', items[index].value, true);\n          return;\n        }\n      }\n    },\n    isValidValue: function isValidValue(date) {\n      return this.items.filter(function (item) {\n        return !item.disabled;\n      }).map(function (item) {\n        return item.value;\n      }).indexOf(date) !== -1;\n    },\n    handleKeydown: function handleKeydown(event) {\n      var keyCode = event.keyCode;\n      if (keyCode === 38 || keyCode === 40) {\n        var mapping = { 40: 1, 38: -1 };\n        var offset = mapping[keyCode.toString()];\n        this.scrollDown(offset);\n        event.stopPropagation();\n        return;\n      }\n    }\n  },\n\n  data: function data() {\n    return {\n      popperClass: '',\n      start: '09:00',\n      end: '18:00',\n      step: '00:30',\n      value: '',\n      defaultValue: '',\n      visible: false,\n      minTime: '',\n      maxTime: '',\n      width: 0\n    };\n  },\n\n\n  computed: {\n    items: function items() {\n      var start = this.start;\n      var end = this.end;\n      var step = this.step;\n\n      var result = [];\n\n      if (start && end && step) {\n        var current = start;\n        while (compareTime(current, end) <= 0) {\n          result.push({\n            value: current,\n            disabled: compareTime(current, this.minTime || '-1:-1') <= 0 || compareTime(current, this.maxTime || '100:100') >= 0\n          });\n          current = nextTime(current, step);\n        }\n      }\n\n      return result;\n    }\n  }\n});\n// CONCATENATED MODULE: ./packages/date-picker/src/panel/time-select.vue?vue&type=script&lang=js&\n /* harmony default export */ var panel_time_selectvue_type_script_lang_js_ = (time_selectvue_type_script_lang_js_); \n// EXTERNAL MODULE: ./node_modules/vue-loader/lib/runtime/componentNormalizer.js\nvar componentNormalizer = __webpack_require__(0);\n\n// CONCATENATED MODULE: ./packages/date-picker/src/panel/time-select.vue\n\n\n\n\n\n/* normalize component */\n\nvar component = Object(componentNormalizer[\"a\" /* default */])(\n  panel_time_selectvue_type_script_lang_js_,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (false) { var api; }\ncomponent.options.__file = \"packages/date-picker/src/panel/time-select.vue\"\n/* harmony default export */ var time_select = (component.exports);\n// CONCATENATED MODULE: ./packages/date-picker/src/picker/time-select.js\n\n\n\n/* harmony default export */ var picker_time_select = ({\n  mixins: [picker[\"a\" /* default */]],\n\n  name: 'ElTimeSelect',\n\n  componentName: 'ElTimeSelect',\n\n  props: {\n    type: {\n      type: String,\n      default: 'time-select'\n    }\n  },\n\n  beforeCreate: function beforeCreate() {\n    this.panel = time_select;\n  }\n});\n// CONCATENATED MODULE: ./packages/time-select/index.js\n\n\n/* istanbul ignore next */\npicker_time_select.install = function (Vue) {\n  Vue.component(picker_time_select.name, picker_time_select);\n};\n\n/* harmony default export */ var packages_time_select = __webpack_exports__[\"default\"] = (picker_time_select);\n\n/***/ }),\n\n/***/ 9:\n/***/ (function(module, exports) {\n\nmodule.exports = __webpack_require__(/*! element-ui/lib/utils/merge */ \"./node_modules/element-ui/lib/utils/merge.js\");\n\n/***/ })\n\n/******/ });\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZWxlbWVudC11aS9saWIvdGltZS1zZWxlY3QuanM/M2U5YyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtEQUFrRCxnQ0FBZ0M7QUFDbEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0VBQWdFLGtCQUFrQjtBQUNsRjtBQUNBLHlEQUF5RCxjQUFjO0FBQ3ZFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaURBQWlELGlDQUFpQztBQUNsRix3SEFBd0gsbUJBQW1CLEVBQUU7QUFDN0k7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLDBCQUEwQixFQUFFO0FBQy9ELHlDQUF5QyxlQUFlO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4REFBOEQsK0RBQStEO0FBQzdIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLDJGQUEyRiwyQkFBMkIsRUFBRTtBQUN4SDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBLE9BQU87O0FBRVA7QUFDQTs7QUFFQSxpQkFBaUIsbUJBQU8sQ0FBQyx3RkFBZ0M7O0FBRXpELE9BQU87O0FBRVA7QUFDQTs7QUFFQSxpQkFBaUIsbUJBQU8sQ0FBQyxvRUFBc0I7O0FBRS9DLE9BQU87O0FBRVA7QUFDQTs7QUFFQSxpQkFBaUIsbUJBQU8sQ0FBQyw4RkFBbUM7O0FBRTVELE9BQU87O0FBRVA7QUFDQTs7QUFFQSxpQkFBaUIsbUJBQU8sQ0FBQyw0RUFBMEI7O0FBRW5ELE9BQU87O0FBRVA7QUFDQTs7QUFFQSxpQkFBaUIsbUJBQU8sQ0FBQyxzR0FBdUM7O0FBRWhFLE9BQU87O0FBRVA7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixpQkFBaUI7QUFDckMsaUJBQWlCLHlCQUF5QjtBQUMxQztBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixpQkFBaUI7QUFDekMscUJBQXFCLDZCQUE2QjtBQUNsRDtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQiwyQkFBMkIsaURBQWlEO0FBQzVFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLG9DQUFvQztBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLDJCQUEyQixpREFBaUQ7QUFDNUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckIsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7QUFVQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLDRCQUE0QixxQkFBcUI7QUFDakQsR0FBRzs7QUFFSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLGFBQWE7QUFDYixvQkFBb0I7QUFDcEIsbUJBQW1CO0FBQ25CO0FBQ0E7QUFDQSxLQUFLO0FBQ0wscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVILGVBQWUsMkJBQTJCOztBQUUxQyxlQUFlLHVDQUF1Qzs7QUFFdEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7OztBQUdIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLHlDQUF5QyxTQUFTO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxPQUFPO0FBQ1A7QUFDQSxPQUFPO0FBQ1A7QUFDQTs7QUFFQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsT0FBTztBQUNQO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSx5Q0FBeUM7QUFDekMseURBQXlEOztBQUV6RDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0EsbUNBQW1DO0FBQ25DLEtBQUs7QUFDTDtBQUNBLHNFQUFzRTtBQUN0RSxLQUFLO0FBQ0w7QUFDQSxnREFBZ0Q7QUFDaEQsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEdBQUc7OztBQUdIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7OztBQUdMLFFBQVEsZ0JBQWdCO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLEtBQUs7OztBQUdMLFFBQVEsZ0JBQWdCO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87O0FBRVA7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU8sR0FBRyxhQUFhO0FBQ3ZCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPOztBQUVQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0Esd0c7QUFDQTtBQUNBOztBQUVBOzs7Ozs7QUFNQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0EsV0FBVyxZQUFZO0FBQ3ZCO0FBQ0E7O0FBRUEsT0FBTzs7QUFFUDtBQUNBOztBQUVBLGlCQUFpQixtQkFBTyxDQUFDLHNGQUErQjs7QUFFeEQsT0FBTzs7QUFFUDtBQUNBOztBQUVBLGlCQUFpQixtQkFBTyxDQUFDLDBGQUFpQzs7QUFFMUQsT0FBTzs7QUFFUDtBQUNBOztBQUVBLGlCQUFpQixtQkFBTyxDQUFDLCtDQUFLOztBQUU5QixPQUFPOztBQUVQO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLHlCQUF5QjtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQjtBQUN0QixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUI7QUFDbkIsMEJBQTBCLDBCQUEwQjtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7OztBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsZUFBZSxtQ0FBbUM7O0FBRWxEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSx1QkFBdUI7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7OztBQUdIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQSxvSDtBQUNBO0FBQ0E7O0FBRUE7Ozs7OztBQU1BOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSxXQUFXLFlBQVk7QUFDdkI7QUFDQTtBQUNBOzs7O0FBSUE7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7OztBQUdBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBLE9BQU87O0FBRVA7QUFDQTs7QUFFQSxpQkFBaUIsbUJBQU8sQ0FBQyxnRkFBNEI7O0FBRXJELE9BQU87O0FBRVAsVUFBVSIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9lbGVtZW50LXVpL2xpYi90aW1lLXNlbGVjdC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID1cbi8qKioqKiovIChmdW5jdGlvbihtb2R1bGVzKSB7IC8vIHdlYnBhY2tCb290c3RyYXBcbi8qKioqKiovIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbi8qKioqKiovIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbi8qKioqKiovIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuLyoqKioqKi8gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4vKioqKioqLyBcdFx0fVxuLyoqKioqKi8gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4vKioqKioqLyBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuLyoqKioqKi8gXHRcdFx0aTogbW9kdWxlSWQsXG4vKioqKioqLyBcdFx0XHRsOiBmYWxzZSxcbi8qKioqKiovIFx0XHRcdGV4cG9ydHM6IHt9XG4vKioqKioqLyBcdFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4vKioqKioqLyBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbi8qKioqKiovIFx0XHRtb2R1bGUubCA9IHRydWU7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4vKioqKioqLyBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuLyoqKioqKi8gXHR9XG4vKioqKioqL1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4vKioqKioqLyBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuLyoqKioqKi8gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4vKioqKioqLyBcdFx0fVxuLyoqKioqKi8gXHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4vKioqKioqLyBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4vKioqKioqLyBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbi8qKioqKiovIFx0XHR9XG4vKioqKioqLyBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qKioqKiovIFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuLyoqKioqKi8gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbi8qKioqKiovIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4vKioqKioqLyBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuLyoqKioqKi8gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4vKioqKioqLyBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4vKioqKioqLyBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbi8qKioqKiovIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuLyoqKioqKi8gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4vKioqKioqLyBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbi8qKioqKiovIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4vKioqKioqLyBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuLyoqKioqKi8gXHRcdHJldHVybiBucztcbi8qKioqKiovIFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuLyoqKioqKi8gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuLyoqKioqKi8gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbi8qKioqKiovIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4vKioqKioqLyBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuLyoqKioqKi8gXHRcdHJldHVybiBnZXR0ZXI7XG4vKioqKioqLyBcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCIvZGlzdC9cIjtcbi8qKioqKiovXG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbi8qKioqKiovIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gNzMpO1xuLyoqKioqKi8gfSlcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqKioqLyAoe1xuXG4vKioqLyAwOlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJhXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gbm9ybWFsaXplQ29tcG9uZW50OyB9KTtcbi8qIGdsb2JhbHMgX19WVUVfU1NSX0NPTlRFWFRfXyAqL1xuXG4vLyBJTVBPUlRBTlQ6IERvIE5PVCB1c2UgRVMyMDE1IGZlYXR1cmVzIGluIHRoaXMgZmlsZSAoZXhjZXB0IGZvciBtb2R1bGVzKS5cbi8vIFRoaXMgbW9kdWxlIGlzIGEgcnVudGltZSB1dGlsaXR5IGZvciBjbGVhbmVyIGNvbXBvbmVudCBtb2R1bGUgb3V0cHV0IGFuZCB3aWxsXG4vLyBiZSBpbmNsdWRlZCBpbiB0aGUgZmluYWwgd2VicGFjayB1c2VyIGJ1bmRsZS5cblxuZnVuY3Rpb24gbm9ybWFsaXplQ29tcG9uZW50IChcbiAgc2NyaXB0RXhwb3J0cyxcbiAgcmVuZGVyLFxuICBzdGF0aWNSZW5kZXJGbnMsXG4gIGZ1bmN0aW9uYWxUZW1wbGF0ZSxcbiAgaW5qZWN0U3R5bGVzLFxuICBzY29wZUlkLFxuICBtb2R1bGVJZGVudGlmaWVyLCAvKiBzZXJ2ZXIgb25seSAqL1xuICBzaGFkb3dNb2RlIC8qIHZ1ZS1jbGkgb25seSAqL1xuKSB7XG4gIC8vIFZ1ZS5leHRlbmQgY29uc3RydWN0b3IgZXhwb3J0IGludGVyb3BcbiAgdmFyIG9wdGlvbnMgPSB0eXBlb2Ygc2NyaXB0RXhwb3J0cyA9PT0gJ2Z1bmN0aW9uJ1xuICAgID8gc2NyaXB0RXhwb3J0cy5vcHRpb25zXG4gICAgOiBzY3JpcHRFeHBvcnRzXG5cbiAgLy8gcmVuZGVyIGZ1bmN0aW9uc1xuICBpZiAocmVuZGVyKSB7XG4gICAgb3B0aW9ucy5yZW5kZXIgPSByZW5kZXJcbiAgICBvcHRpb25zLnN0YXRpY1JlbmRlckZucyA9IHN0YXRpY1JlbmRlckZuc1xuICAgIG9wdGlvbnMuX2NvbXBpbGVkID0gdHJ1ZVxuICB9XG5cbiAgLy8gZnVuY3Rpb25hbCB0ZW1wbGF0ZVxuICBpZiAoZnVuY3Rpb25hbFRlbXBsYXRlKSB7XG4gICAgb3B0aW9ucy5mdW5jdGlvbmFsID0gdHJ1ZVxuICB9XG5cbiAgLy8gc2NvcGVkSWRcbiAgaWYgKHNjb3BlSWQpIHtcbiAgICBvcHRpb25zLl9zY29wZUlkID0gJ2RhdGEtdi0nICsgc2NvcGVJZFxuICB9XG5cbiAgdmFyIGhvb2tcbiAgaWYgKG1vZHVsZUlkZW50aWZpZXIpIHsgLy8gc2VydmVyIGJ1aWxkXG4gICAgaG9vayA9IGZ1bmN0aW9uIChjb250ZXh0KSB7XG4gICAgICAvLyAyLjMgaW5qZWN0aW9uXG4gICAgICBjb250ZXh0ID1cbiAgICAgICAgY29udGV4dCB8fCAvLyBjYWNoZWQgY2FsbFxuICAgICAgICAodGhpcy4kdm5vZGUgJiYgdGhpcy4kdm5vZGUuc3NyQ29udGV4dCkgfHwgLy8gc3RhdGVmdWxcbiAgICAgICAgKHRoaXMucGFyZW50ICYmIHRoaXMucGFyZW50LiR2bm9kZSAmJiB0aGlzLnBhcmVudC4kdm5vZGUuc3NyQ29udGV4dCkgLy8gZnVuY3Rpb25hbFxuICAgICAgLy8gMi4yIHdpdGggcnVuSW5OZXdDb250ZXh0OiB0cnVlXG4gICAgICBpZiAoIWNvbnRleHQgJiYgdHlwZW9mIF9fVlVFX1NTUl9DT05URVhUX18gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGNvbnRleHQgPSBfX1ZVRV9TU1JfQ09OVEVYVF9fXG4gICAgICB9XG4gICAgICAvLyBpbmplY3QgY29tcG9uZW50IHN0eWxlc1xuICAgICAgaWYgKGluamVjdFN0eWxlcykge1xuICAgICAgICBpbmplY3RTdHlsZXMuY2FsbCh0aGlzLCBjb250ZXh0KVxuICAgICAgfVxuICAgICAgLy8gcmVnaXN0ZXIgY29tcG9uZW50IG1vZHVsZSBpZGVudGlmaWVyIGZvciBhc3luYyBjaHVuayBpbmZlcnJlbmNlXG4gICAgICBpZiAoY29udGV4dCAmJiBjb250ZXh0Ll9yZWdpc3RlcmVkQ29tcG9uZW50cykge1xuICAgICAgICBjb250ZXh0Ll9yZWdpc3RlcmVkQ29tcG9uZW50cy5hZGQobW9kdWxlSWRlbnRpZmllcilcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gdXNlZCBieSBzc3IgaW4gY2FzZSBjb21wb25lbnQgaXMgY2FjaGVkIGFuZCBiZWZvcmVDcmVhdGVcbiAgICAvLyBuZXZlciBnZXRzIGNhbGxlZFxuICAgIG9wdGlvbnMuX3NzclJlZ2lzdGVyID0gaG9va1xuICB9IGVsc2UgaWYgKGluamVjdFN0eWxlcykge1xuICAgIGhvb2sgPSBzaGFkb3dNb2RlXG4gICAgICA/IGZ1bmN0aW9uICgpIHsgaW5qZWN0U3R5bGVzLmNhbGwodGhpcywgdGhpcy4kcm9vdC4kb3B0aW9ucy5zaGFkb3dSb290KSB9XG4gICAgICA6IGluamVjdFN0eWxlc1xuICB9XG5cbiAgaWYgKGhvb2spIHtcbiAgICBpZiAob3B0aW9ucy5mdW5jdGlvbmFsKSB7XG4gICAgICAvLyBmb3IgdGVtcGxhdGUtb25seSBob3QtcmVsb2FkIGJlY2F1c2UgaW4gdGhhdCBjYXNlIHRoZSByZW5kZXIgZm4gZG9lc24ndFxuICAgICAgLy8gZ28gdGhyb3VnaCB0aGUgbm9ybWFsaXplclxuICAgICAgb3B0aW9ucy5faW5qZWN0U3R5bGVzID0gaG9va1xuICAgICAgLy8gcmVnaXN0ZXIgZm9yIGZ1bmN0aW9hbCBjb21wb25lbnQgaW4gdnVlIGZpbGVcbiAgICAgIHZhciBvcmlnaW5hbFJlbmRlciA9IG9wdGlvbnMucmVuZGVyXG4gICAgICBvcHRpb25zLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcldpdGhTdHlsZUluamVjdGlvbiAoaCwgY29udGV4dCkge1xuICAgICAgICBob29rLmNhbGwoY29udGV4dClcbiAgICAgICAgcmV0dXJuIG9yaWdpbmFsUmVuZGVyKGgsIGNvbnRleHQpXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGluamVjdCBjb21wb25lbnQgcmVnaXN0cmF0aW9uIGFzIGJlZm9yZUNyZWF0ZSBob29rXG4gICAgICB2YXIgZXhpc3RpbmcgPSBvcHRpb25zLmJlZm9yZUNyZWF0ZVxuICAgICAgb3B0aW9ucy5iZWZvcmVDcmVhdGUgPSBleGlzdGluZ1xuICAgICAgICA/IFtdLmNvbmNhdChleGlzdGluZywgaG9vaylcbiAgICAgICAgOiBbaG9va11cbiAgICB9XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGV4cG9ydHM6IHNjcmlwdEV4cG9ydHMsXG4gICAgb3B0aW9uczogb3B0aW9uc1xuICB9XG59XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIDE6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImVsZW1lbnQtdWkvbGliL3V0aWxzL2RhdGUtdXRpbFwiKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIDEwOlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJlbGVtZW50LXVpL2xpYi9pbnB1dFwiKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIDEyOlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJlbGVtZW50LXVpL2xpYi91dGlscy9jbGlja291dHNpZGVcIik7XG5cbi8qKiovIH0pLFxuXG4vKioqLyAxNTpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiZWxlbWVudC11aS9saWIvc2Nyb2xsYmFyXCIpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gMzE6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImVsZW1lbnQtdWkvbGliL3V0aWxzL3Njcm9sbC1pbnRvLXZpZXdcIik7XG5cbi8qKiovIH0pLFxuXG4vKioqLyAzMjpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbi8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2xvYWRlcnMvdGVtcGxhdGVMb2FkZXIuanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYj8/dnVlLWxvYWRlci1vcHRpb25zIS4vcGFja2FnZXMvZGF0ZS1waWNrZXIvc3JjL3BpY2tlci52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9NzlhZTA2OWYmXG52YXIgcmVuZGVyID0gZnVuY3Rpb24oKSB7XG4gIHZhciBfdm0gPSB0aGlzXG4gIHZhciBfaCA9IF92bS4kY3JlYXRlRWxlbWVudFxuICB2YXIgX2MgPSBfdm0uX3NlbGYuX2MgfHwgX2hcbiAgcmV0dXJuICFfdm0ucmFuZ2VkXG4gICAgPyBfYyhcbiAgICAgICAgXCJlbC1pbnB1dFwiLFxuICAgICAgICBfdm0uX2IoXG4gICAgICAgICAge1xuICAgICAgICAgICAgZGlyZWN0aXZlczogW1xuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJjbGlja291dHNpZGVcIixcbiAgICAgICAgICAgICAgICByYXdOYW1lOiBcInYtY2xpY2tvdXRzaWRlXCIsXG4gICAgICAgICAgICAgICAgdmFsdWU6IF92bS5oYW5kbGVDbG9zZSxcbiAgICAgICAgICAgICAgICBleHByZXNzaW9uOiBcImhhbmRsZUNsb3NlXCJcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIHJlZjogXCJyZWZlcmVuY2VcIixcbiAgICAgICAgICAgIHN0YXRpY0NsYXNzOiBcImVsLWRhdGUtZWRpdG9yXCIsXG4gICAgICAgICAgICBjbGFzczogXCJlbC1kYXRlLWVkaXRvci0tXCIgKyBfdm0udHlwZSxcbiAgICAgICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgICAgIHJlYWRvbmx5OlxuICAgICAgICAgICAgICAgICFfdm0uZWRpdGFibGUgfHxcbiAgICAgICAgICAgICAgICBfdm0ucmVhZG9ubHkgfHxcbiAgICAgICAgICAgICAgICBfdm0udHlwZSA9PT0gXCJkYXRlc1wiIHx8XG4gICAgICAgICAgICAgICAgX3ZtLnR5cGUgPT09IFwid2Vla1wiLFxuICAgICAgICAgICAgICBkaXNhYmxlZDogX3ZtLnBpY2tlckRpc2FibGVkLFxuICAgICAgICAgICAgICBzaXplOiBfdm0ucGlja2VyU2l6ZSxcbiAgICAgICAgICAgICAgbmFtZTogX3ZtLm5hbWUsXG4gICAgICAgICAgICAgIHBsYWNlaG9sZGVyOiBfdm0ucGxhY2Vob2xkZXIsXG4gICAgICAgICAgICAgIHZhbHVlOiBfdm0uZGlzcGxheVZhbHVlLFxuICAgICAgICAgICAgICB2YWxpZGF0ZUV2ZW50OiBmYWxzZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICAgIGZvY3VzOiBfdm0uaGFuZGxlRm9jdXMsXG4gICAgICAgICAgICAgIGlucHV0OiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiAoX3ZtLnVzZXJJbnB1dCA9IHZhbHVlKVxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBjaGFuZ2U6IF92bS5oYW5kbGVDaGFuZ2VcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBuYXRpdmVPbjoge1xuICAgICAgICAgICAgICBrZXlkb3duOiBmdW5jdGlvbigkZXZlbnQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX3ZtLmhhbmRsZUtleWRvd24oJGV2ZW50KVxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBtb3VzZWVudGVyOiBmdW5jdGlvbigkZXZlbnQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX3ZtLmhhbmRsZU1vdXNlRW50ZXIoJGV2ZW50KVxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBtb3VzZWxlYXZlOiBmdW5jdGlvbigkZXZlbnQpIHtcbiAgICAgICAgICAgICAgICBfdm0uc2hvd0Nsb3NlID0gZmFsc2VcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJlbC1pbnB1dFwiLFxuICAgICAgICAgIF92bS5maXJzdElucHV0SWQsXG4gICAgICAgICAgZmFsc2VcbiAgICAgICAgKSxcbiAgICAgICAgW1xuICAgICAgICAgIF9jKFwiaVwiLCB7XG4gICAgICAgICAgICBzdGF0aWNDbGFzczogXCJlbC1pbnB1dF9faWNvblwiLFxuICAgICAgICAgICAgY2xhc3M6IF92bS50cmlnZ2VyQ2xhc3MsXG4gICAgICAgICAgICBhdHRyczogeyBzbG90OiBcInByZWZpeFwiIH0sXG4gICAgICAgICAgICBvbjogeyBjbGljazogX3ZtLmhhbmRsZUZvY3VzIH0sXG4gICAgICAgICAgICBzbG90OiBcInByZWZpeFwiXG4gICAgICAgICAgfSksXG4gICAgICAgICAgX3ZtLmhhdmVUcmlnZ2VyXG4gICAgICAgICAgICA/IF9jKFwiaVwiLCB7XG4gICAgICAgICAgICAgICAgc3RhdGljQ2xhc3M6IFwiZWwtaW5wdXRfX2ljb25cIixcbiAgICAgICAgICAgICAgICBjbGFzczogW192bS5zaG93Q2xvc2UgPyBcIlwiICsgX3ZtLmNsZWFySWNvbiA6IFwiXCJdLFxuICAgICAgICAgICAgICAgIGF0dHJzOiB7IHNsb3Q6IFwic3VmZml4XCIgfSxcbiAgICAgICAgICAgICAgICBvbjogeyBjbGljazogX3ZtLmhhbmRsZUNsaWNrSWNvbiB9LFxuICAgICAgICAgICAgICAgIHNsb3Q6IFwic3VmZml4XCJcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIDogX3ZtLl9lKClcbiAgICAgICAgXVxuICAgICAgKVxuICAgIDogX2MoXG4gICAgICAgIFwiZGl2XCIsXG4gICAgICAgIHtcbiAgICAgICAgICBkaXJlY3RpdmVzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIG5hbWU6IFwiY2xpY2tvdXRzaWRlXCIsXG4gICAgICAgICAgICAgIHJhd05hbWU6IFwidi1jbGlja291dHNpZGVcIixcbiAgICAgICAgICAgICAgdmFsdWU6IF92bS5oYW5kbGVDbG9zZSxcbiAgICAgICAgICAgICAgZXhwcmVzc2lvbjogXCJoYW5kbGVDbG9zZVwiXG4gICAgICAgICAgICB9XG4gICAgICAgICAgXSxcbiAgICAgICAgICByZWY6IFwicmVmZXJlbmNlXCIsXG4gICAgICAgICAgc3RhdGljQ2xhc3M6IFwiZWwtZGF0ZS1lZGl0b3IgZWwtcmFuZ2UtZWRpdG9yIGVsLWlucHV0X19pbm5lclwiLFxuICAgICAgICAgIGNsYXNzOiBbXG4gICAgICAgICAgICBcImVsLWRhdGUtZWRpdG9yLS1cIiArIF92bS50eXBlLFxuICAgICAgICAgICAgX3ZtLnBpY2tlclNpemUgPyBcImVsLXJhbmdlLWVkaXRvci0tXCIgKyBfdm0ucGlja2VyU2l6ZSA6IFwiXCIsXG4gICAgICAgICAgICBfdm0ucGlja2VyRGlzYWJsZWQgPyBcImlzLWRpc2FibGVkXCIgOiBcIlwiLFxuICAgICAgICAgICAgX3ZtLnBpY2tlclZpc2libGUgPyBcImlzLWFjdGl2ZVwiIDogXCJcIlxuICAgICAgICAgIF0sXG4gICAgICAgICAgb246IHtcbiAgICAgICAgICAgIGNsaWNrOiBfdm0uaGFuZGxlUmFuZ2VDbGljayxcbiAgICAgICAgICAgIG1vdXNlZW50ZXI6IF92bS5oYW5kbGVNb3VzZUVudGVyLFxuICAgICAgICAgICAgbW91c2VsZWF2ZTogZnVuY3Rpb24oJGV2ZW50KSB7XG4gICAgICAgICAgICAgIF92bS5zaG93Q2xvc2UgPSBmYWxzZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGtleWRvd246IF92bS5oYW5kbGVLZXlkb3duXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBbXG4gICAgICAgICAgX2MoXCJpXCIsIHtcbiAgICAgICAgICAgIGNsYXNzOiBbXCJlbC1pbnB1dF9faWNvblwiLCBcImVsLXJhbmdlX19pY29uXCIsIF92bS50cmlnZ2VyQ2xhc3NdXG4gICAgICAgICAgfSksXG4gICAgICAgICAgX2MoXG4gICAgICAgICAgICBcImlucHV0XCIsXG4gICAgICAgICAgICBfdm0uX2IoXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdGF0aWNDbGFzczogXCJlbC1yYW5nZS1pbnB1dFwiLFxuICAgICAgICAgICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgICAgICAgICBhdXRvY29tcGxldGU6IFwib2ZmXCIsXG4gICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcjogX3ZtLnN0YXJ0UGxhY2Vob2xkZXIsXG4gICAgICAgICAgICAgICAgICBkaXNhYmxlZDogX3ZtLnBpY2tlckRpc2FibGVkLFxuICAgICAgICAgICAgICAgICAgcmVhZG9ubHk6ICFfdm0uZWRpdGFibGUgfHwgX3ZtLnJlYWRvbmx5LFxuICAgICAgICAgICAgICAgICAgbmFtZTogX3ZtLm5hbWUgJiYgX3ZtLm5hbWVbMF1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGRvbVByb3BzOiB7IHZhbHVlOiBfdm0uZGlzcGxheVZhbHVlICYmIF92bS5kaXNwbGF5VmFsdWVbMF0gfSxcbiAgICAgICAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgICAgICAgaW5wdXQ6IF92bS5oYW5kbGVTdGFydElucHV0LFxuICAgICAgICAgICAgICAgICAgY2hhbmdlOiBfdm0uaGFuZGxlU3RhcnRDaGFuZ2UsXG4gICAgICAgICAgICAgICAgICBmb2N1czogX3ZtLmhhbmRsZUZvY3VzXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBcImlucHV0XCIsXG4gICAgICAgICAgICAgIF92bS5maXJzdElucHV0SWQsXG4gICAgICAgICAgICAgIGZhbHNlXG4gICAgICAgICAgICApXG4gICAgICAgICAgKSxcbiAgICAgICAgICBfdm0uX3QoXCJyYW5nZS1zZXBhcmF0b3JcIiwgW1xuICAgICAgICAgICAgX2MoXCJzcGFuXCIsIHsgc3RhdGljQ2xhc3M6IFwiZWwtcmFuZ2Utc2VwYXJhdG9yXCIgfSwgW1xuICAgICAgICAgICAgICBfdm0uX3YoX3ZtLl9zKF92bS5yYW5nZVNlcGFyYXRvcikpXG4gICAgICAgICAgICBdKVxuICAgICAgICAgIF0pLFxuICAgICAgICAgIF9jKFxuICAgICAgICAgICAgXCJpbnB1dFwiLFxuICAgICAgICAgICAgX3ZtLl9iKFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RhdGljQ2xhc3M6IFwiZWwtcmFuZ2UtaW5wdXRcIixcbiAgICAgICAgICAgICAgICBhdHRyczoge1xuICAgICAgICAgICAgICAgICAgYXV0b2NvbXBsZXRlOiBcIm9mZlwiLFxuICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI6IF92bS5lbmRQbGFjZWhvbGRlcixcbiAgICAgICAgICAgICAgICAgIGRpc2FibGVkOiBfdm0ucGlja2VyRGlzYWJsZWQsXG4gICAgICAgICAgICAgICAgICByZWFkb25seTogIV92bS5lZGl0YWJsZSB8fCBfdm0ucmVhZG9ubHksXG4gICAgICAgICAgICAgICAgICBuYW1lOiBfdm0ubmFtZSAmJiBfdm0ubmFtZVsxXVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZG9tUHJvcHM6IHsgdmFsdWU6IF92bS5kaXNwbGF5VmFsdWUgJiYgX3ZtLmRpc3BsYXlWYWx1ZVsxXSB9LFxuICAgICAgICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICAgICAgICBpbnB1dDogX3ZtLmhhbmRsZUVuZElucHV0LFxuICAgICAgICAgICAgICAgICAgY2hhbmdlOiBfdm0uaGFuZGxlRW5kQ2hhbmdlLFxuICAgICAgICAgICAgICAgICAgZm9jdXM6IF92bS5oYW5kbGVGb2N1c1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgXCJpbnB1dFwiLFxuICAgICAgICAgICAgICBfdm0uc2Vjb25kSW5wdXRJZCxcbiAgICAgICAgICAgICAgZmFsc2VcbiAgICAgICAgICAgIClcbiAgICAgICAgICApLFxuICAgICAgICAgIF92bS5oYXZlVHJpZ2dlclxuICAgICAgICAgICAgPyBfYyhcImlcIiwge1xuICAgICAgICAgICAgICAgIHN0YXRpY0NsYXNzOiBcImVsLWlucHV0X19pY29uIGVsLXJhbmdlX19jbG9zZS1pY29uXCIsXG4gICAgICAgICAgICAgICAgY2xhc3M6IFtfdm0uc2hvd0Nsb3NlID8gXCJcIiArIF92bS5jbGVhckljb24gOiBcIlwiXSxcbiAgICAgICAgICAgICAgICBvbjogeyBjbGljazogX3ZtLmhhbmRsZUNsaWNrSWNvbiB9XG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICA6IF92bS5fZSgpXG4gICAgICAgIF0sXG4gICAgICAgIDJcbiAgICAgIClcbn1cbnZhciBzdGF0aWNSZW5kZXJGbnMgPSBbXVxucmVuZGVyLl93aXRoU3RyaXBwZWQgPSB0cnVlXG5cblxuLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9wYWNrYWdlcy9kYXRlLXBpY2tlci9zcmMvcGlja2VyLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD03OWFlMDY5ZiZcblxuLy8gRVhURVJOQUwgTU9EVUxFOiBleHRlcm5hbCBcInZ1ZVwiXG52YXIgZXh0ZXJuYWxfdnVlXyA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XG52YXIgZXh0ZXJuYWxfdnVlX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKGV4dGVybmFsX3Z1ZV8pO1xuXG4vLyBFWFRFUk5BTCBNT0RVTEU6IGV4dGVybmFsIFwiZWxlbWVudC11aS9saWIvdXRpbHMvY2xpY2tvdXRzaWRlXCJcbnZhciBjbGlja291dHNpZGVfID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMik7XG52YXIgY2xpY2tvdXRzaWRlX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKGNsaWNrb3V0c2lkZV8pO1xuXG4vLyBFWFRFUk5BTCBNT0RVTEU6IGV4dGVybmFsIFwiZWxlbWVudC11aS9saWIvdXRpbHMvZGF0ZS11dGlsXCJcbnZhciBkYXRlX3V0aWxfID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblxuLy8gRVhURVJOQUwgTU9EVUxFOiBleHRlcm5hbCBcImVsZW1lbnQtdWkvbGliL3V0aWxzL3Z1ZS1wb3BwZXJcIlxudmFyIHZ1ZV9wb3BwZXJfID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcbnZhciB2dWVfcG9wcGVyX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKHZ1ZV9wb3BwZXJfKTtcblxuLy8gRVhURVJOQUwgTU9EVUxFOiBleHRlcm5hbCBcImVsZW1lbnQtdWkvbGliL21peGlucy9lbWl0dGVyXCJcbnZhciBlbWl0dGVyXyA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG52YXIgZW1pdHRlcl9kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihlbWl0dGVyXyk7XG5cbi8vIEVYVEVSTkFMIE1PRFVMRTogZXh0ZXJuYWwgXCJlbGVtZW50LXVpL2xpYi9pbnB1dFwiXG52YXIgaW5wdXRfID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMCk7XG52YXIgaW5wdXRfZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oaW5wdXRfKTtcblxuLy8gRVhURVJOQUwgTU9EVUxFOiBleHRlcm5hbCBcImVsZW1lbnQtdWkvbGliL3V0aWxzL21lcmdlXCJcbnZhciBtZXJnZV8gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpO1xudmFyIG1lcmdlX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKG1lcmdlXyk7XG5cbi8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vbm9kZV9tb2R1bGVzL2JhYmVsLWxvYWRlci9saWIhLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWI/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL3BhY2thZ2VzL2RhdGUtcGlja2VyL3NyYy9waWNrZXIudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJlxuLy9cbi8vXG4vL1xuLy9cbi8vXG4vL1xuLy9cbi8vXG4vL1xuLy9cbi8vXG4vL1xuLy9cbi8vXG4vL1xuLy9cbi8vXG4vL1xuLy9cbi8vXG4vL1xuLy9cbi8vXG4vL1xuLy9cbi8vXG4vL1xuLy9cbi8vXG4vL1xuLy9cbi8vXG4vL1xuLy9cbi8vXG4vL1xuLy9cbi8vXG4vL1xuLy9cbi8vXG4vL1xuLy9cbi8vXG4vL1xuLy9cbi8vXG4vL1xuLy9cbi8vXG4vL1xuLy9cbi8vXG4vL1xuLy9cbi8vXG4vL1xuLy9cbi8vXG4vL1xuLy9cbi8vXG4vL1xuLy9cbi8vXG4vL1xuLy9cbi8vXG4vL1xuLy9cbi8vXG4vL1xuLy9cbi8vXG4vL1xuLy9cbi8vXG4vL1xuLy9cbi8vXG4vL1xuLy9cbi8vXG4vL1xuLy9cblxuXG5cblxuXG5cblxuXG5cbnZhciBOZXdQb3BwZXIgPSB7XG4gIHByb3BzOiB7XG4gICAgYXBwZW5kVG9Cb2R5OiB2dWVfcG9wcGVyX2RlZmF1bHQuYS5wcm9wcy5hcHBlbmRUb0JvZHksXG4gICAgb2Zmc2V0OiB2dWVfcG9wcGVyX2RlZmF1bHQuYS5wcm9wcy5vZmZzZXQsXG4gICAgYm91bmRhcmllc1BhZGRpbmc6IHZ1ZV9wb3BwZXJfZGVmYXVsdC5hLnByb3BzLmJvdW5kYXJpZXNQYWRkaW5nLFxuICAgIGFycm93T2Zmc2V0OiB2dWVfcG9wcGVyX2RlZmF1bHQuYS5wcm9wcy5hcnJvd09mZnNldFxuICB9LFxuICBtZXRob2RzOiB2dWVfcG9wcGVyX2RlZmF1bHQuYS5tZXRob2RzLFxuICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkge1xuICAgIHJldHVybiBtZXJnZV9kZWZhdWx0KCkoeyB2aXNpYmxlQXJyb3c6IHRydWUgfSwgdnVlX3BvcHBlcl9kZWZhdWx0LmEuZGF0YSk7XG4gIH0sXG5cbiAgYmVmb3JlRGVzdHJveTogdnVlX3BvcHBlcl9kZWZhdWx0LmEuYmVmb3JlRGVzdHJveVxufTtcblxudmFyIERFRkFVTFRfRk9STUFUUyA9IHtcbiAgZGF0ZTogJ3l5eXktTU0tZGQnLFxuICBtb250aDogJ3l5eXktTU0nLFxuICBkYXRldGltZTogJ3l5eXktTU0tZGQgSEg6bW06c3MnLFxuICB0aW1lOiAnSEg6bW06c3MnLFxuICB3ZWVrOiAneXl5eXdXVycsXG4gIHRpbWVyYW5nZTogJ0hIOm1tOnNzJyxcbiAgZGF0ZXJhbmdlOiAneXl5eS1NTS1kZCcsXG4gIG1vbnRocmFuZ2U6ICd5eXl5LU1NJyxcbiAgZGF0ZXRpbWVyYW5nZTogJ3l5eXktTU0tZGQgSEg6bW06c3MnLFxuICB5ZWFyOiAneXl5eSdcbn07XG52YXIgSEFWRV9UUklHR0VSX1RZUEVTID0gWydkYXRlJywgJ2RhdGV0aW1lJywgJ3RpbWUnLCAndGltZS1zZWxlY3QnLCAnd2VlaycsICdtb250aCcsICd5ZWFyJywgJ2RhdGVyYW5nZScsICdtb250aHJhbmdlJywgJ3RpbWVyYW5nZScsICdkYXRldGltZXJhbmdlJywgJ2RhdGVzJ107XG52YXIgcGlja2VydnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfREFURV9GT1JNQVRURVIgPSBmdW5jdGlvbiBEQVRFX0ZPUk1BVFRFUih2YWx1ZSwgZm9ybWF0KSB7XG4gIGlmIChmb3JtYXQgPT09ICd0aW1lc3RhbXAnKSByZXR1cm4gdmFsdWUuZ2V0VGltZSgpO1xuICByZXR1cm4gT2JqZWN0KGRhdGVfdXRpbF9bXCJmb3JtYXREYXRlXCJdKSh2YWx1ZSwgZm9ybWF0KTtcbn07XG52YXIgcGlja2VydnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfREFURV9QQVJTRVIgPSBmdW5jdGlvbiBEQVRFX1BBUlNFUih0ZXh0LCBmb3JtYXQpIHtcbiAgaWYgKGZvcm1hdCA9PT0gJ3RpbWVzdGFtcCcpIHJldHVybiBuZXcgRGF0ZShOdW1iZXIodGV4dCkpO1xuICByZXR1cm4gT2JqZWN0KGRhdGVfdXRpbF9bXCJwYXJzZURhdGVcIl0pKHRleHQsIGZvcm1hdCk7XG59O1xudmFyIFJBTkdFX0ZPUk1BVFRFUiA9IGZ1bmN0aW9uIFJBTkdFX0ZPUk1BVFRFUih2YWx1ZSwgZm9ybWF0KSB7XG4gIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSAmJiB2YWx1ZS5sZW5ndGggPT09IDIpIHtcbiAgICB2YXIgc3RhcnQgPSB2YWx1ZVswXTtcbiAgICB2YXIgZW5kID0gdmFsdWVbMV07XG5cbiAgICBpZiAoc3RhcnQgJiYgZW5kKSB7XG4gICAgICByZXR1cm4gW3BpY2tlcnZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzX0RBVEVfRk9STUFUVEVSKHN0YXJ0LCBmb3JtYXQpLCBwaWNrZXJ2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc19EQVRFX0ZPUk1BVFRFUihlbmQsIGZvcm1hdCldO1xuICAgIH1cbiAgfVxuICByZXR1cm4gJyc7XG59O1xudmFyIFJBTkdFX1BBUlNFUiA9IGZ1bmN0aW9uIFJBTkdFX1BBUlNFUihhcnJheSwgZm9ybWF0LCBzZXBhcmF0b3IpIHtcbiAgaWYgKCFBcnJheS5pc0FycmF5KGFycmF5KSkge1xuICAgIGFycmF5ID0gYXJyYXkuc3BsaXQoc2VwYXJhdG9yKTtcbiAgfVxuICBpZiAoYXJyYXkubGVuZ3RoID09PSAyKSB7XG4gICAgdmFyIHJhbmdlMSA9IGFycmF5WzBdO1xuICAgIHZhciByYW5nZTIgPSBhcnJheVsxXTtcblxuICAgIHJldHVybiBbcGlja2VydnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfREFURV9QQVJTRVIocmFuZ2UxLCBmb3JtYXQpLCBwaWNrZXJ2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc19EQVRFX1BBUlNFUihyYW5nZTIsIGZvcm1hdCldO1xuICB9XG4gIHJldHVybiBbXTtcbn07XG52YXIgVFlQRV9WQUxVRV9SRVNPTFZFUl9NQVAgPSB7XG4gIGRlZmF1bHQ6IHtcbiAgICBmb3JtYXR0ZXI6IGZ1bmN0aW9uIGZvcm1hdHRlcih2YWx1ZSkge1xuICAgICAgaWYgKCF2YWx1ZSkgcmV0dXJuICcnO1xuICAgICAgcmV0dXJuICcnICsgdmFsdWU7XG4gICAgfSxcbiAgICBwYXJzZXI6IGZ1bmN0aW9uIHBhcnNlcih0ZXh0KSB7XG4gICAgICBpZiAodGV4dCA9PT0gdW5kZWZpbmVkIHx8IHRleHQgPT09ICcnKSByZXR1cm4gbnVsbDtcbiAgICAgIHJldHVybiB0ZXh0O1xuICAgIH1cbiAgfSxcbiAgd2Vlazoge1xuICAgIGZvcm1hdHRlcjogZnVuY3Rpb24gZm9ybWF0dGVyKHZhbHVlLCBmb3JtYXQpIHtcbiAgICAgIHZhciB3ZWVrID0gT2JqZWN0KGRhdGVfdXRpbF9bXCJnZXRXZWVrTnVtYmVyXCJdKSh2YWx1ZSk7XG4gICAgICB2YXIgbW9udGggPSB2YWx1ZS5nZXRNb250aCgpO1xuICAgICAgdmFyIHRydWVEYXRlID0gbmV3IERhdGUodmFsdWUpO1xuICAgICAgaWYgKHdlZWsgPT09IDEgJiYgbW9udGggPT09IDExKSB7XG4gICAgICAgIHRydWVEYXRlLnNldEhvdXJzKDAsIDAsIDAsIDApO1xuICAgICAgICB0cnVlRGF0ZS5zZXREYXRlKHRydWVEYXRlLmdldERhdGUoKSArIDMgLSAodHJ1ZURhdGUuZ2V0RGF5KCkgKyA2KSAlIDcpO1xuICAgICAgfVxuICAgICAgdmFyIGRhdGUgPSBPYmplY3QoZGF0ZV91dGlsX1tcImZvcm1hdERhdGVcIl0pKHRydWVEYXRlLCBmb3JtYXQpO1xuXG4gICAgICBkYXRlID0gL1dXLy50ZXN0KGRhdGUpID8gZGF0ZS5yZXBsYWNlKC9XVy8sIHdlZWsgPCAxMCA/ICcwJyArIHdlZWsgOiB3ZWVrKSA6IGRhdGUucmVwbGFjZSgvVy8sIHdlZWspO1xuICAgICAgcmV0dXJuIGRhdGU7XG4gICAgfSxcbiAgICBwYXJzZXI6IGZ1bmN0aW9uIHBhcnNlcih0ZXh0LCBmb3JtYXQpIHtcbiAgICAgIC8vIHBhcnNlIGFzIGlmIGEgbm9ybWFsIGRhdGVcbiAgICAgIHJldHVybiBUWVBFX1ZBTFVFX1JFU09MVkVSX01BUC5kYXRlLnBhcnNlcih0ZXh0LCBmb3JtYXQpO1xuICAgIH1cbiAgfSxcbiAgZGF0ZToge1xuICAgIGZvcm1hdHRlcjogcGlja2VydnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfREFURV9GT1JNQVRURVIsXG4gICAgcGFyc2VyOiBwaWNrZXJ2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc19EQVRFX1BBUlNFUlxuICB9LFxuICBkYXRldGltZToge1xuICAgIGZvcm1hdHRlcjogcGlja2VydnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfREFURV9GT1JNQVRURVIsXG4gICAgcGFyc2VyOiBwaWNrZXJ2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc19EQVRFX1BBUlNFUlxuICB9LFxuICBkYXRlcmFuZ2U6IHtcbiAgICBmb3JtYXR0ZXI6IFJBTkdFX0ZPUk1BVFRFUixcbiAgICBwYXJzZXI6IFJBTkdFX1BBUlNFUlxuICB9LFxuICBtb250aHJhbmdlOiB7XG4gICAgZm9ybWF0dGVyOiBSQU5HRV9GT1JNQVRURVIsXG4gICAgcGFyc2VyOiBSQU5HRV9QQVJTRVJcbiAgfSxcbiAgZGF0ZXRpbWVyYW5nZToge1xuICAgIGZvcm1hdHRlcjogUkFOR0VfRk9STUFUVEVSLFxuICAgIHBhcnNlcjogUkFOR0VfUEFSU0VSXG4gIH0sXG4gIHRpbWVyYW5nZToge1xuICAgIGZvcm1hdHRlcjogUkFOR0VfRk9STUFUVEVSLFxuICAgIHBhcnNlcjogUkFOR0VfUEFSU0VSXG4gIH0sXG4gIHRpbWU6IHtcbiAgICBmb3JtYXR0ZXI6IHBpY2tlcnZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzX0RBVEVfRk9STUFUVEVSLFxuICAgIHBhcnNlcjogcGlja2VydnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfREFURV9QQVJTRVJcbiAgfSxcbiAgbW9udGg6IHtcbiAgICBmb3JtYXR0ZXI6IHBpY2tlcnZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzX0RBVEVfRk9STUFUVEVSLFxuICAgIHBhcnNlcjogcGlja2VydnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfREFURV9QQVJTRVJcbiAgfSxcbiAgeWVhcjoge1xuICAgIGZvcm1hdHRlcjogcGlja2VydnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfREFURV9GT1JNQVRURVIsXG4gICAgcGFyc2VyOiBwaWNrZXJ2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc19EQVRFX1BBUlNFUlxuICB9LFxuICBudW1iZXI6IHtcbiAgICBmb3JtYXR0ZXI6IGZ1bmN0aW9uIGZvcm1hdHRlcih2YWx1ZSkge1xuICAgICAgaWYgKCF2YWx1ZSkgcmV0dXJuICcnO1xuICAgICAgcmV0dXJuICcnICsgdmFsdWU7XG4gICAgfSxcbiAgICBwYXJzZXI6IGZ1bmN0aW9uIHBhcnNlcih0ZXh0KSB7XG4gICAgICB2YXIgcmVzdWx0ID0gTnVtYmVyKHRleHQpO1xuXG4gICAgICBpZiAoIWlzTmFOKHRleHQpKSB7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIGRhdGVzOiB7XG4gICAgZm9ybWF0dGVyOiBmdW5jdGlvbiBmb3JtYXR0ZXIodmFsdWUsIGZvcm1hdCkge1xuICAgICAgcmV0dXJuIHZhbHVlLm1hcChmdW5jdGlvbiAoZGF0ZSkge1xuICAgICAgICByZXR1cm4gcGlja2VydnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfREFURV9GT1JNQVRURVIoZGF0ZSwgZm9ybWF0KTtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgcGFyc2VyOiBmdW5jdGlvbiBwYXJzZXIodmFsdWUsIGZvcm1hdCkge1xuICAgICAgcmV0dXJuICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnID8gdmFsdWUuc3BsaXQoJywgJykgOiB2YWx1ZSkubWFwKGZ1bmN0aW9uIChkYXRlKSB7XG4gICAgICAgIHJldHVybiBkYXRlIGluc3RhbmNlb2YgRGF0ZSA/IGRhdGUgOiBwaWNrZXJ2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc19EQVRFX1BBUlNFUihkYXRlLCBmb3JtYXQpO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG59O1xudmFyIFBMQUNFTUVOVF9NQVAgPSB7XG4gIGxlZnQ6ICdib3R0b20tc3RhcnQnLFxuICBjZW50ZXI6ICdib3R0b20nLFxuICByaWdodDogJ2JvdHRvbS1lbmQnXG59O1xuXG52YXIgcGFyc2VBc0Zvcm1hdEFuZFR5cGUgPSBmdW5jdGlvbiBwYXJzZUFzRm9ybWF0QW5kVHlwZSh2YWx1ZSwgY3VzdG9tRm9ybWF0LCB0eXBlKSB7XG4gIHZhciByYW5nZVNlcGFyYXRvciA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDogJy0nO1xuXG4gIGlmICghdmFsdWUpIHJldHVybiBudWxsO1xuICB2YXIgcGFyc2VyID0gKFRZUEVfVkFMVUVfUkVTT0xWRVJfTUFQW3R5cGVdIHx8IFRZUEVfVkFMVUVfUkVTT0xWRVJfTUFQWydkZWZhdWx0J10pLnBhcnNlcjtcbiAgdmFyIGZvcm1hdCA9IGN1c3RvbUZvcm1hdCB8fCBERUZBVUxUX0ZPUk1BVFNbdHlwZV07XG4gIHJldHVybiBwYXJzZXIodmFsdWUsIGZvcm1hdCwgcmFuZ2VTZXBhcmF0b3IpO1xufTtcblxudmFyIGZvcm1hdEFzRm9ybWF0QW5kVHlwZSA9IGZ1bmN0aW9uIGZvcm1hdEFzRm9ybWF0QW5kVHlwZSh2YWx1ZSwgY3VzdG9tRm9ybWF0LCB0eXBlKSB7XG4gIGlmICghdmFsdWUpIHJldHVybiBudWxsO1xuICB2YXIgZm9ybWF0dGVyID0gKFRZUEVfVkFMVUVfUkVTT0xWRVJfTUFQW3R5cGVdIHx8IFRZUEVfVkFMVUVfUkVTT0xWRVJfTUFQWydkZWZhdWx0J10pLmZvcm1hdHRlcjtcbiAgdmFyIGZvcm1hdCA9IGN1c3RvbUZvcm1hdCB8fCBERUZBVUxUX0ZPUk1BVFNbdHlwZV07XG4gIHJldHVybiBmb3JtYXR0ZXIodmFsdWUsIGZvcm1hdCk7XG59O1xuXG4vKlxuICogQ29uc2lkZXJzOlxuICogICAxLiBEYXRlIG9iamVjdFxuICogICAyLiBkYXRlIHN0cmluZ1xuICogICAzLiBhcnJheSBvZiAxIG9yIDJcbiAqL1xudmFyIHZhbHVlRXF1YWxzID0gZnVuY3Rpb24gdmFsdWVFcXVhbHMoYSwgYikge1xuICAvLyBjb25zaWRlcnMgRGF0ZSBvYmplY3QgYW5kIHN0cmluZ1xuICB2YXIgZGF0ZUVxdWFscyA9IGZ1bmN0aW9uIGRhdGVFcXVhbHMoYSwgYikge1xuICAgIHZhciBhSXNEYXRlID0gYSBpbnN0YW5jZW9mIERhdGU7XG4gICAgdmFyIGJJc0RhdGUgPSBiIGluc3RhbmNlb2YgRGF0ZTtcbiAgICBpZiAoYUlzRGF0ZSAmJiBiSXNEYXRlKSB7XG4gICAgICByZXR1cm4gYS5nZXRUaW1lKCkgPT09IGIuZ2V0VGltZSgpO1xuICAgIH1cbiAgICBpZiAoIWFJc0RhdGUgJiYgIWJJc0RhdGUpIHtcbiAgICAgIHJldHVybiBhID09PSBiO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH07XG5cbiAgdmFyIGFJc0FycmF5ID0gYSBpbnN0YW5jZW9mIEFycmF5O1xuICB2YXIgYklzQXJyYXkgPSBiIGluc3RhbmNlb2YgQXJyYXk7XG4gIGlmIChhSXNBcnJheSAmJiBiSXNBcnJheSkge1xuICAgIGlmIChhLmxlbmd0aCAhPT0gYi5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIGEuZXZlcnkoZnVuY3Rpb24gKGl0ZW0sIGluZGV4KSB7XG4gICAgICByZXR1cm4gZGF0ZUVxdWFscyhpdGVtLCBiW2luZGV4XSk7XG4gICAgfSk7XG4gIH1cbiAgaWYgKCFhSXNBcnJheSAmJiAhYklzQXJyYXkpIHtcbiAgICByZXR1cm4gZGF0ZUVxdWFscyhhLCBiKTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59O1xuXG52YXIgaXNTdHJpbmcgPSBmdW5jdGlvbiBpc1N0cmluZyh2YWwpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWwgPT09ICdzdHJpbmcnIHx8IHZhbCBpbnN0YW5jZW9mIFN0cmluZztcbn07XG5cbnZhciB2YWxpZGF0b3IgPSBmdW5jdGlvbiB2YWxpZGF0b3IodmFsKSB7XG4gIC8vIGVpdGhlcjogU3RyaW5nLCBBcnJheSBvZiBTdHJpbmcsIG51bGwgLyB1bmRlZmluZWRcbiAgcmV0dXJuIHZhbCA9PT0gbnVsbCB8fCB2YWwgPT09IHVuZGVmaW5lZCB8fCBpc1N0cmluZyh2YWwpIHx8IEFycmF5LmlzQXJyYXkodmFsKSAmJiB2YWwubGVuZ3RoID09PSAyICYmIHZhbC5ldmVyeShpc1N0cmluZyk7XG59O1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIHZhciBwaWNrZXJ2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc18gPSAoe1xuICBtaXhpbnM6IFtlbWl0dGVyX2RlZmF1bHQuYSwgTmV3UG9wcGVyXSxcblxuICBpbmplY3Q6IHtcbiAgICBlbEZvcm06IHtcbiAgICAgIGRlZmF1bHQ6ICcnXG4gICAgfSxcbiAgICBlbEZvcm1JdGVtOiB7XG4gICAgICBkZWZhdWx0OiAnJ1xuICAgIH1cbiAgfSxcblxuICBwcm9wczoge1xuICAgIHNpemU6IFN0cmluZyxcbiAgICBmb3JtYXQ6IFN0cmluZyxcbiAgICB2YWx1ZUZvcm1hdDogU3RyaW5nLFxuICAgIHJlYWRvbmx5OiBCb29sZWFuLFxuICAgIHBsYWNlaG9sZGVyOiBTdHJpbmcsXG4gICAgc3RhcnRQbGFjZWhvbGRlcjogU3RyaW5nLFxuICAgIGVuZFBsYWNlaG9sZGVyOiBTdHJpbmcsXG4gICAgcHJlZml4SWNvbjogU3RyaW5nLFxuICAgIGNsZWFySWNvbjoge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgZGVmYXVsdDogJ2VsLWljb24tY2lyY2xlLWNsb3NlJ1xuICAgIH0sXG4gICAgbmFtZToge1xuICAgICAgZGVmYXVsdDogJycsXG4gICAgICB2YWxpZGF0b3I6IHZhbGlkYXRvclxuICAgIH0sXG4gICAgZGlzYWJsZWQ6IEJvb2xlYW4sXG4gICAgY2xlYXJhYmxlOiB7XG4gICAgICB0eXBlOiBCb29sZWFuLFxuICAgICAgZGVmYXVsdDogdHJ1ZVxuICAgIH0sXG4gICAgaWQ6IHtcbiAgICAgIGRlZmF1bHQ6ICcnLFxuICAgICAgdmFsaWRhdG9yOiB2YWxpZGF0b3JcbiAgICB9LFxuICAgIHBvcHBlckNsYXNzOiBTdHJpbmcsXG4gICAgZWRpdGFibGU6IHtcbiAgICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgICBkZWZhdWx0OiB0cnVlXG4gICAgfSxcbiAgICBhbGlnbjoge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgZGVmYXVsdDogJ2xlZnQnXG4gICAgfSxcbiAgICB2YWx1ZToge30sXG4gICAgZGVmYXVsdFZhbHVlOiB7fSxcbiAgICBkZWZhdWx0VGltZToge30sXG4gICAgcmFuZ2VTZXBhcmF0b3I6IHtcbiAgICAgIGRlZmF1bHQ6ICctJ1xuICAgIH0sXG4gICAgcGlja2VyT3B0aW9uczoge30sXG4gICAgdW5saW5rUGFuZWxzOiBCb29sZWFuLFxuICAgIHZhbGlkYXRlRXZlbnQ6IHtcbiAgICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgICBkZWZhdWx0OiB0cnVlXG4gICAgfVxuICB9LFxuXG4gIGNvbXBvbmVudHM6IHsgRWxJbnB1dDogaW5wdXRfZGVmYXVsdC5hIH0sXG5cbiAgZGlyZWN0aXZlczogeyBDbGlja291dHNpZGU6IGNsaWNrb3V0c2lkZV9kZWZhdWx0LmEgfSxcblxuICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkge1xuICAgIHJldHVybiB7XG4gICAgICBwaWNrZXJWaXNpYmxlOiBmYWxzZSxcbiAgICAgIHNob3dDbG9zZTogZmFsc2UsXG4gICAgICB1c2VySW5wdXQ6IG51bGwsXG4gICAgICB2YWx1ZU9uT3BlbjogbnVsbCwgLy8gdmFsdWUgd2hlbiBwaWNrZXIgb3BlbnMsIHVzZWQgdG8gZGV0ZXJtaW5lIHdoZXRoZXIgdG8gZW1pdCBjaGFuZ2VcbiAgICAgIHVud2F0Y2hQaWNrZXJPcHRpb25zOiBudWxsXG4gICAgfTtcbiAgfSxcblxuXG4gIHdhdGNoOiB7XG4gICAgcGlja2VyVmlzaWJsZTogZnVuY3Rpb24gcGlja2VyVmlzaWJsZSh2YWwpIHtcbiAgICAgIGlmICh0aGlzLnJlYWRvbmx5IHx8IHRoaXMucGlja2VyRGlzYWJsZWQpIHJldHVybjtcbiAgICAgIGlmICh2YWwpIHtcbiAgICAgICAgdGhpcy5zaG93UGlja2VyKCk7XG4gICAgICAgIHRoaXMudmFsdWVPbk9wZW4gPSBBcnJheS5pc0FycmF5KHRoaXMudmFsdWUpID8gW10uY29uY2F0KHRoaXMudmFsdWUpIDogdGhpcy52YWx1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuaGlkZVBpY2tlcigpO1xuICAgICAgICB0aGlzLmVtaXRDaGFuZ2UodGhpcy52YWx1ZSk7XG4gICAgICAgIHRoaXMudXNlcklucHV0ID0gbnVsbDtcbiAgICAgICAgaWYgKHRoaXMudmFsaWRhdGVFdmVudCkge1xuICAgICAgICAgIHRoaXMuZGlzcGF0Y2goJ0VsRm9ybUl0ZW0nLCAnZWwuZm9ybS5ibHVyJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy4kZW1pdCgnYmx1cicsIHRoaXMpO1xuICAgICAgICB0aGlzLmJsdXIoKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgcGFyc2VkVmFsdWU6IHtcbiAgICAgIGltbWVkaWF0ZTogdHJ1ZSxcbiAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIGhhbmRsZXIodmFsKSB7XG4gICAgICAgIGlmICh0aGlzLnBpY2tlcikge1xuICAgICAgICAgIHRoaXMucGlja2VyLnZhbHVlID0gdmFsO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBkZWZhdWx0VmFsdWU6IGZ1bmN0aW9uIGRlZmF1bHRWYWx1ZSh2YWwpIHtcbiAgICAgIC8vIE5PVEU6IHNob3VsZCBldmVudHVhbGx5IG1vdmUgdG8ganN4IHN0eWxlIHBpY2tlciArIHBhbmVsID9cbiAgICAgIGlmICh0aGlzLnBpY2tlcikge1xuICAgICAgICB0aGlzLnBpY2tlci5kZWZhdWx0VmFsdWUgPSB2YWw7XG4gICAgICB9XG4gICAgfSxcbiAgICB2YWx1ZTogZnVuY3Rpb24gdmFsdWUodmFsLCBvbGRWYWwpIHtcbiAgICAgIGlmICghdmFsdWVFcXVhbHModmFsLCBvbGRWYWwpICYmICF0aGlzLnBpY2tlclZpc2libGUgJiYgdGhpcy52YWxpZGF0ZUV2ZW50KSB7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2goJ0VsRm9ybUl0ZW0nLCAnZWwuZm9ybS5jaGFuZ2UnLCB2YWwpO1xuICAgICAgfVxuICAgIH1cbiAgfSxcblxuICBjb21wdXRlZDoge1xuICAgIHJhbmdlZDogZnVuY3Rpb24gcmFuZ2VkKCkge1xuICAgICAgcmV0dXJuIHRoaXMudHlwZS5pbmRleE9mKCdyYW5nZScpID4gLTE7XG4gICAgfSxcbiAgICByZWZlcmVuY2U6IGZ1bmN0aW9uIHJlZmVyZW5jZSgpIHtcbiAgICAgIHZhciByZWZlcmVuY2UgPSB0aGlzLiRyZWZzLnJlZmVyZW5jZTtcbiAgICAgIHJldHVybiByZWZlcmVuY2UuJGVsIHx8IHJlZmVyZW5jZTtcbiAgICB9LFxuICAgIHJlZklucHV0OiBmdW5jdGlvbiByZWZJbnB1dCgpIHtcbiAgICAgIGlmICh0aGlzLnJlZmVyZW5jZSkge1xuICAgICAgICByZXR1cm4gW10uc2xpY2UuY2FsbCh0aGlzLnJlZmVyZW5jZS5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dCcpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBbXTtcbiAgICB9LFxuICAgIHZhbHVlSXNFbXB0eTogZnVuY3Rpb24gdmFsdWVJc0VtcHR5KCkge1xuICAgICAgdmFyIHZhbCA9IHRoaXMudmFsdWU7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWwpKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSB2YWwubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICBpZiAodmFsW2ldKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAodmFsKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LFxuICAgIHRyaWdnZXJDbGFzczogZnVuY3Rpb24gdHJpZ2dlckNsYXNzKCkge1xuICAgICAgcmV0dXJuIHRoaXMucHJlZml4SWNvbiB8fCAodGhpcy50eXBlLmluZGV4T2YoJ3RpbWUnKSAhPT0gLTEgPyAnZWwtaWNvbi10aW1lJyA6ICdlbC1pY29uLWRhdGUnKTtcbiAgICB9LFxuICAgIHNlbGVjdGlvbk1vZGU6IGZ1bmN0aW9uIHNlbGVjdGlvbk1vZGUoKSB7XG4gICAgICBpZiAodGhpcy50eXBlID09PSAnd2VlaycpIHtcbiAgICAgICAgcmV0dXJuICd3ZWVrJztcbiAgICAgIH0gZWxzZSBpZiAodGhpcy50eXBlID09PSAnbW9udGgnKSB7XG4gICAgICAgIHJldHVybiAnbW9udGgnO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLnR5cGUgPT09ICd5ZWFyJykge1xuICAgICAgICByZXR1cm4gJ3llYXInO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLnR5cGUgPT09ICdkYXRlcycpIHtcbiAgICAgICAgcmV0dXJuICdkYXRlcyc7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiAnZGF5JztcbiAgICB9LFxuICAgIGhhdmVUcmlnZ2VyOiBmdW5jdGlvbiBoYXZlVHJpZ2dlcigpIHtcbiAgICAgIGlmICh0eXBlb2YgdGhpcy5zaG93VHJpZ2dlciAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2hvd1RyaWdnZXI7XG4gICAgICB9XG4gICAgICByZXR1cm4gSEFWRV9UUklHR0VSX1RZUEVTLmluZGV4T2YodGhpcy50eXBlKSAhPT0gLTE7XG4gICAgfSxcbiAgICBkaXNwbGF5VmFsdWU6IGZ1bmN0aW9uIGRpc3BsYXlWYWx1ZSgpIHtcbiAgICAgIHZhciBmb3JtYXR0ZWRWYWx1ZSA9IGZvcm1hdEFzRm9ybWF0QW5kVHlwZSh0aGlzLnBhcnNlZFZhbHVlLCB0aGlzLmZvcm1hdCwgdGhpcy50eXBlLCB0aGlzLnJhbmdlU2VwYXJhdG9yKTtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KHRoaXMudXNlcklucHV0KSkge1xuICAgICAgICByZXR1cm4gW3RoaXMudXNlcklucHV0WzBdIHx8IGZvcm1hdHRlZFZhbHVlICYmIGZvcm1hdHRlZFZhbHVlWzBdIHx8ICcnLCB0aGlzLnVzZXJJbnB1dFsxXSB8fCBmb3JtYXR0ZWRWYWx1ZSAmJiBmb3JtYXR0ZWRWYWx1ZVsxXSB8fCAnJ107XG4gICAgICB9IGVsc2UgaWYgKHRoaXMudXNlcklucHV0ICE9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVzZXJJbnB1dDtcbiAgICAgIH0gZWxzZSBpZiAoZm9ybWF0dGVkVmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudHlwZSA9PT0gJ2RhdGVzJyA/IGZvcm1hdHRlZFZhbHVlLmpvaW4oJywgJykgOiBmb3JtYXR0ZWRWYWx1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiAnJztcbiAgICAgIH1cbiAgICB9LFxuICAgIHBhcnNlZFZhbHVlOiBmdW5jdGlvbiBwYXJzZWRWYWx1ZSgpIHtcbiAgICAgIGlmICghdGhpcy52YWx1ZSkgcmV0dXJuIHRoaXMudmFsdWU7IC8vIGNvbXBvbmVudCB2YWx1ZSBpcyBub3Qgc2V0XG4gICAgICBpZiAodGhpcy50eXBlID09PSAndGltZS1zZWxlY3QnKSByZXR1cm4gdGhpcy52YWx1ZTsgLy8gdGltZS1zZWxlY3QgZG9lcyBub3QgcmVxdWlyZSBwYXJzaW5nLCB0aGlzIG1pZ2h0IGNoYW5nZSBpbiBuZXh0IG1ham9yIHZlcnNpb25cblxuICAgICAgdmFyIHZhbHVlSXNEYXRlT2JqZWN0ID0gT2JqZWN0KGRhdGVfdXRpbF9bXCJpc0RhdGVPYmplY3RcIl0pKHRoaXMudmFsdWUpIHx8IEFycmF5LmlzQXJyYXkodGhpcy52YWx1ZSkgJiYgdGhpcy52YWx1ZS5ldmVyeShkYXRlX3V0aWxfW1wiaXNEYXRlT2JqZWN0XCJdKTtcbiAgICAgIGlmICh2YWx1ZUlzRGF0ZU9iamVjdCkge1xuICAgICAgICByZXR1cm4gdGhpcy52YWx1ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMudmFsdWVGb3JtYXQpIHtcbiAgICAgICAgcmV0dXJuIHBhcnNlQXNGb3JtYXRBbmRUeXBlKHRoaXMudmFsdWUsIHRoaXMudmFsdWVGb3JtYXQsIHRoaXMudHlwZSwgdGhpcy5yYW5nZVNlcGFyYXRvcikgfHwgdGhpcy52YWx1ZTtcbiAgICAgIH1cblxuICAgICAgLy8gTk9URTogZGVhbCB3aXRoIGNvbW1vbiBidXQgaW5jb3JyZWN0IHVzYWdlLCBzaG91bGQgcmVtb3ZlIGluIG5leHQgbWFqb3IgdmVyc2lvblxuICAgICAgLy8gdXNlciBtaWdodCBwcm92aWRlIHN0cmluZyAvIHRpbWVzdGFtcCB3aXRob3V0IHZhbHVlLWZvcm1hdCwgY29lcmNlIHRoZW0gaW50byBkYXRlIChvciBhcnJheSBvZiBkYXRlKVxuICAgICAgcmV0dXJuIEFycmF5LmlzQXJyYXkodGhpcy52YWx1ZSkgPyB0aGlzLnZhbHVlLm1hcChmdW5jdGlvbiAodmFsKSB7XG4gICAgICAgIHJldHVybiBuZXcgRGF0ZSh2YWwpO1xuICAgICAgfSkgOiBuZXcgRGF0ZSh0aGlzLnZhbHVlKTtcbiAgICB9LFxuICAgIF9lbEZvcm1JdGVtU2l6ZTogZnVuY3Rpb24gX2VsRm9ybUl0ZW1TaXplKCkge1xuICAgICAgcmV0dXJuICh0aGlzLmVsRm9ybUl0ZW0gfHwge30pLmVsRm9ybUl0ZW1TaXplO1xuICAgIH0sXG4gICAgcGlja2VyU2l6ZTogZnVuY3Rpb24gcGlja2VyU2l6ZSgpIHtcbiAgICAgIHJldHVybiB0aGlzLnNpemUgfHwgdGhpcy5fZWxGb3JtSXRlbVNpemUgfHwgKHRoaXMuJEVMRU1FTlQgfHwge30pLnNpemU7XG4gICAgfSxcbiAgICBwaWNrZXJEaXNhYmxlZDogZnVuY3Rpb24gcGlja2VyRGlzYWJsZWQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5kaXNhYmxlZCB8fCAodGhpcy5lbEZvcm0gfHwge30pLmRpc2FibGVkO1xuICAgIH0sXG4gICAgZmlyc3RJbnB1dElkOiBmdW5jdGlvbiBmaXJzdElucHV0SWQoKSB7XG4gICAgICB2YXIgb2JqID0ge307XG4gICAgICB2YXIgaWQgPSB2b2lkIDA7XG4gICAgICBpZiAodGhpcy5yYW5nZWQpIHtcbiAgICAgICAgaWQgPSB0aGlzLmlkICYmIHRoaXMuaWRbMF07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZCA9IHRoaXMuaWQ7XG4gICAgICB9XG4gICAgICBpZiAoaWQpIG9iai5pZCA9IGlkO1xuICAgICAgcmV0dXJuIG9iajtcbiAgICB9LFxuICAgIHNlY29uZElucHV0SWQ6IGZ1bmN0aW9uIHNlY29uZElucHV0SWQoKSB7XG4gICAgICB2YXIgb2JqID0ge307XG4gICAgICB2YXIgaWQgPSB2b2lkIDA7XG4gICAgICBpZiAodGhpcy5yYW5nZWQpIHtcbiAgICAgICAgaWQgPSB0aGlzLmlkICYmIHRoaXMuaWRbMV07XG4gICAgICB9XG4gICAgICBpZiAoaWQpIG9iai5pZCA9IGlkO1xuICAgICAgcmV0dXJuIG9iajtcbiAgICB9XG4gIH0sXG5cbiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHtcbiAgICAvLyB2dWUtcG9wcGVyXG4gICAgdGhpcy5wb3BwZXJPcHRpb25zID0ge1xuICAgICAgYm91bmRhcmllc1BhZGRpbmc6IDAsXG4gICAgICBncHVBY2NlbGVyYXRpb246IGZhbHNlXG4gICAgfTtcbiAgICB0aGlzLnBsYWNlbWVudCA9IFBMQUNFTUVOVF9NQVBbdGhpcy5hbGlnbl0gfHwgUExBQ0VNRU5UX01BUC5sZWZ0O1xuXG4gICAgdGhpcy4kb24oJ2ZpZWxkUmVzZXQnLCB0aGlzLmhhbmRsZUZpZWxkUmVzZXQpO1xuICB9LFxuXG5cbiAgbWV0aG9kczoge1xuICAgIGZvY3VzOiBmdW5jdGlvbiBmb2N1cygpIHtcbiAgICAgIGlmICghdGhpcy5yYW5nZWQpIHtcbiAgICAgICAgdGhpcy4kcmVmcy5yZWZlcmVuY2UuZm9jdXMoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuaGFuZGxlRm9jdXMoKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGJsdXI6IGZ1bmN0aW9uIGJsdXIoKSB7XG4gICAgICB0aGlzLnJlZklucHV0LmZvckVhY2goZnVuY3Rpb24gKGlucHV0KSB7XG4gICAgICAgIHJldHVybiBpbnB1dC5ibHVyKCk7XG4gICAgICB9KTtcbiAgICB9LFxuXG5cbiAgICAvLyB7cGFyc2UsIGZvcm1hdFRvfSBWYWx1ZSBkZWFscyBtYXBzIGNvbXBvbmVudCB2YWx1ZSB3aXRoIGludGVybmFsIERhdGVcbiAgICBwYXJzZVZhbHVlOiBmdW5jdGlvbiBwYXJzZVZhbHVlKHZhbHVlKSB7XG4gICAgICB2YXIgaXNQYXJzZWQgPSBPYmplY3QoZGF0ZV91dGlsX1tcImlzRGF0ZU9iamVjdFwiXSkodmFsdWUpIHx8IEFycmF5LmlzQXJyYXkodmFsdWUpICYmIHZhbHVlLmV2ZXJ5KGRhdGVfdXRpbF9bXCJpc0RhdGVPYmplY3RcIl0pO1xuICAgICAgaWYgKHRoaXMudmFsdWVGb3JtYXQgJiYgIWlzUGFyc2VkKSB7XG4gICAgICAgIHJldHVybiBwYXJzZUFzRm9ybWF0QW5kVHlwZSh2YWx1ZSwgdGhpcy52YWx1ZUZvcm1hdCwgdGhpcy50eXBlLCB0aGlzLnJhbmdlU2VwYXJhdG9yKSB8fCB2YWx1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGZvcm1hdFRvVmFsdWU6IGZ1bmN0aW9uIGZvcm1hdFRvVmFsdWUoZGF0ZSkge1xuICAgICAgdmFyIGlzRm9ybWF0dGFibGUgPSBPYmplY3QoZGF0ZV91dGlsX1tcImlzRGF0ZU9iamVjdFwiXSkoZGF0ZSkgfHwgQXJyYXkuaXNBcnJheShkYXRlKSAmJiBkYXRlLmV2ZXJ5KGRhdGVfdXRpbF9bXCJpc0RhdGVPYmplY3RcIl0pO1xuICAgICAgaWYgKHRoaXMudmFsdWVGb3JtYXQgJiYgaXNGb3JtYXR0YWJsZSkge1xuICAgICAgICByZXR1cm4gZm9ybWF0QXNGb3JtYXRBbmRUeXBlKGRhdGUsIHRoaXMudmFsdWVGb3JtYXQsIHRoaXMudHlwZSwgdGhpcy5yYW5nZVNlcGFyYXRvcik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZGF0ZTtcbiAgICAgIH1cbiAgICB9LFxuXG5cbiAgICAvLyB7cGFyc2UsIGZvcm1hdFRvfSBTdHJpbmcgZGVhbHMgd2l0aCB1c2VyIGlucHV0XG4gICAgcGFyc2VTdHJpbmc6IGZ1bmN0aW9uIHBhcnNlU3RyaW5nKHZhbHVlKSB7XG4gICAgICB2YXIgdHlwZSA9IEFycmF5LmlzQXJyYXkodmFsdWUpID8gdGhpcy50eXBlIDogdGhpcy50eXBlLnJlcGxhY2UoJ3JhbmdlJywgJycpO1xuICAgICAgcmV0dXJuIHBhcnNlQXNGb3JtYXRBbmRUeXBlKHZhbHVlLCB0aGlzLmZvcm1hdCwgdHlwZSk7XG4gICAgfSxcbiAgICBmb3JtYXRUb1N0cmluZzogZnVuY3Rpb24gZm9ybWF0VG9TdHJpbmcodmFsdWUpIHtcbiAgICAgIHZhciB0eXBlID0gQXJyYXkuaXNBcnJheSh2YWx1ZSkgPyB0aGlzLnR5cGUgOiB0aGlzLnR5cGUucmVwbGFjZSgncmFuZ2UnLCAnJyk7XG4gICAgICByZXR1cm4gZm9ybWF0QXNGb3JtYXRBbmRUeXBlKHZhbHVlLCB0aGlzLmZvcm1hdCwgdHlwZSk7XG4gICAgfSxcbiAgICBoYW5kbGVNb3VzZUVudGVyOiBmdW5jdGlvbiBoYW5kbGVNb3VzZUVudGVyKCkge1xuICAgICAgaWYgKHRoaXMucmVhZG9ubHkgfHwgdGhpcy5waWNrZXJEaXNhYmxlZCkgcmV0dXJuO1xuICAgICAgaWYgKCF0aGlzLnZhbHVlSXNFbXB0eSAmJiB0aGlzLmNsZWFyYWJsZSkge1xuICAgICAgICB0aGlzLnNob3dDbG9zZSA9IHRydWU7XG4gICAgICB9XG4gICAgfSxcbiAgICBoYW5kbGVDaGFuZ2U6IGZ1bmN0aW9uIGhhbmRsZUNoYW5nZSgpIHtcbiAgICAgIGlmICh0aGlzLnVzZXJJbnB1dCkge1xuICAgICAgICB2YXIgdmFsdWUgPSB0aGlzLnBhcnNlU3RyaW5nKHRoaXMuZGlzcGxheVZhbHVlKTtcbiAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgdGhpcy5waWNrZXIudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgICBpZiAodGhpcy5pc1ZhbGlkVmFsdWUodmFsdWUpKSB7XG4gICAgICAgICAgICB0aGlzLmVtaXRJbnB1dCh2YWx1ZSk7XG4gICAgICAgICAgICB0aGlzLnVzZXJJbnB1dCA9IG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAodGhpcy51c2VySW5wdXQgPT09ICcnKSB7XG4gICAgICAgIHRoaXMuZW1pdElucHV0KG51bGwpO1xuICAgICAgICB0aGlzLmVtaXRDaGFuZ2UobnVsbCk7XG4gICAgICAgIHRoaXMudXNlcklucHV0ID0gbnVsbDtcbiAgICAgIH1cbiAgICB9LFxuICAgIGhhbmRsZVN0YXJ0SW5wdXQ6IGZ1bmN0aW9uIGhhbmRsZVN0YXJ0SW5wdXQoZXZlbnQpIHtcbiAgICAgIGlmICh0aGlzLnVzZXJJbnB1dCkge1xuICAgICAgICB0aGlzLnVzZXJJbnB1dCA9IFtldmVudC50YXJnZXQudmFsdWUsIHRoaXMudXNlcklucHV0WzFdXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMudXNlcklucHV0ID0gW2V2ZW50LnRhcmdldC52YWx1ZSwgbnVsbF07XG4gICAgICB9XG4gICAgfSxcbiAgICBoYW5kbGVFbmRJbnB1dDogZnVuY3Rpb24gaGFuZGxlRW5kSW5wdXQoZXZlbnQpIHtcbiAgICAgIGlmICh0aGlzLnVzZXJJbnB1dCkge1xuICAgICAgICB0aGlzLnVzZXJJbnB1dCA9IFt0aGlzLnVzZXJJbnB1dFswXSwgZXZlbnQudGFyZ2V0LnZhbHVlXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMudXNlcklucHV0ID0gW251bGwsIGV2ZW50LnRhcmdldC52YWx1ZV07XG4gICAgICB9XG4gICAgfSxcbiAgICBoYW5kbGVTdGFydENoYW5nZTogZnVuY3Rpb24gaGFuZGxlU3RhcnRDaGFuZ2UoZXZlbnQpIHtcbiAgICAgIHZhciB2YWx1ZSA9IHRoaXMucGFyc2VTdHJpbmcodGhpcy51c2VySW5wdXQgJiYgdGhpcy51c2VySW5wdXRbMF0pO1xuICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgIHRoaXMudXNlcklucHV0ID0gW3RoaXMuZm9ybWF0VG9TdHJpbmcodmFsdWUpLCB0aGlzLmRpc3BsYXlWYWx1ZVsxXV07XG4gICAgICAgIHZhciBuZXdWYWx1ZSA9IFt2YWx1ZSwgdGhpcy5waWNrZXIudmFsdWUgJiYgdGhpcy5waWNrZXIudmFsdWVbMV1dO1xuICAgICAgICB0aGlzLnBpY2tlci52YWx1ZSA9IG5ld1ZhbHVlO1xuICAgICAgICBpZiAodGhpcy5pc1ZhbGlkVmFsdWUobmV3VmFsdWUpKSB7XG4gICAgICAgICAgdGhpcy5lbWl0SW5wdXQobmV3VmFsdWUpO1xuICAgICAgICAgIHRoaXMudXNlcklucHV0ID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgaGFuZGxlRW5kQ2hhbmdlOiBmdW5jdGlvbiBoYW5kbGVFbmRDaGFuZ2UoZXZlbnQpIHtcbiAgICAgIHZhciB2YWx1ZSA9IHRoaXMucGFyc2VTdHJpbmcodGhpcy51c2VySW5wdXQgJiYgdGhpcy51c2VySW5wdXRbMV0pO1xuICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgIHRoaXMudXNlcklucHV0ID0gW3RoaXMuZGlzcGxheVZhbHVlWzBdLCB0aGlzLmZvcm1hdFRvU3RyaW5nKHZhbHVlKV07XG4gICAgICAgIHZhciBuZXdWYWx1ZSA9IFt0aGlzLnBpY2tlci52YWx1ZSAmJiB0aGlzLnBpY2tlci52YWx1ZVswXSwgdmFsdWVdO1xuICAgICAgICB0aGlzLnBpY2tlci52YWx1ZSA9IG5ld1ZhbHVlO1xuICAgICAgICBpZiAodGhpcy5pc1ZhbGlkVmFsdWUobmV3VmFsdWUpKSB7XG4gICAgICAgICAgdGhpcy5lbWl0SW5wdXQobmV3VmFsdWUpO1xuICAgICAgICAgIHRoaXMudXNlcklucHV0ID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgaGFuZGxlQ2xpY2tJY29uOiBmdW5jdGlvbiBoYW5kbGVDbGlja0ljb24oZXZlbnQpIHtcbiAgICAgIGlmICh0aGlzLnJlYWRvbmx5IHx8IHRoaXMucGlja2VyRGlzYWJsZWQpIHJldHVybjtcbiAgICAgIGlmICh0aGlzLnNob3dDbG9zZSkge1xuICAgICAgICB0aGlzLnZhbHVlT25PcGVuID0gdGhpcy52YWx1ZTtcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIHRoaXMuZW1pdElucHV0KG51bGwpO1xuICAgICAgICB0aGlzLmVtaXRDaGFuZ2UobnVsbCk7XG4gICAgICAgIHRoaXMuc2hvd0Nsb3NlID0gZmFsc2U7XG4gICAgICAgIGlmICh0aGlzLnBpY2tlciAmJiB0eXBlb2YgdGhpcy5waWNrZXIuaGFuZGxlQ2xlYXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICB0aGlzLnBpY2tlci5oYW5kbGVDbGVhcigpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnBpY2tlclZpc2libGUgPSAhdGhpcy5waWNrZXJWaXNpYmxlO1xuICAgICAgfVxuICAgIH0sXG4gICAgaGFuZGxlQ2xvc2U6IGZ1bmN0aW9uIGhhbmRsZUNsb3NlKCkge1xuICAgICAgaWYgKCF0aGlzLnBpY2tlclZpc2libGUpIHJldHVybjtcbiAgICAgIHRoaXMucGlja2VyVmlzaWJsZSA9IGZhbHNlO1xuXG4gICAgICBpZiAodGhpcy50eXBlID09PSAnZGF0ZXMnKSB7XG4gICAgICAgIC8vIHJlc3RvcmUgdG8gZm9ybWVyIHZhbHVlXG4gICAgICAgIHZhciBvbGRWYWx1ZSA9IHBhcnNlQXNGb3JtYXRBbmRUeXBlKHRoaXMudmFsdWVPbk9wZW4sIHRoaXMudmFsdWVGb3JtYXQsIHRoaXMudHlwZSwgdGhpcy5yYW5nZVNlcGFyYXRvcikgfHwgdGhpcy52YWx1ZU9uT3BlbjtcbiAgICAgICAgdGhpcy5lbWl0SW5wdXQob2xkVmFsdWUpO1xuICAgICAgfVxuICAgIH0sXG4gICAgaGFuZGxlRmllbGRSZXNldDogZnVuY3Rpb24gaGFuZGxlRmllbGRSZXNldChpbml0aWFsVmFsdWUpIHtcbiAgICAgIHRoaXMudXNlcklucHV0ID0gaW5pdGlhbFZhbHVlID09PSAnJyA/IG51bGwgOiBpbml0aWFsVmFsdWU7XG4gICAgfSxcbiAgICBoYW5kbGVGb2N1czogZnVuY3Rpb24gaGFuZGxlRm9jdXMoKSB7XG4gICAgICB2YXIgdHlwZSA9IHRoaXMudHlwZTtcblxuICAgICAgaWYgKEhBVkVfVFJJR0dFUl9UWVBFUy5pbmRleE9mKHR5cGUpICE9PSAtMSAmJiAhdGhpcy5waWNrZXJWaXNpYmxlKSB7XG4gICAgICAgIHRoaXMucGlja2VyVmlzaWJsZSA9IHRydWU7XG4gICAgICB9XG4gICAgICB0aGlzLiRlbWl0KCdmb2N1cycsIHRoaXMpO1xuICAgIH0sXG4gICAgaGFuZGxlS2V5ZG93bjogZnVuY3Rpb24gaGFuZGxlS2V5ZG93bihldmVudCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgdmFyIGtleUNvZGUgPSBldmVudC5rZXlDb2RlO1xuXG4gICAgICAvLyBFU0NcbiAgICAgIGlmIChrZXlDb2RlID09PSAyNykge1xuICAgICAgICB0aGlzLnBpY2tlclZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gVGFiXG4gICAgICBpZiAoa2V5Q29kZSA9PT0gOSkge1xuICAgICAgICBpZiAoIXRoaXMucmFuZ2VkKSB7XG4gICAgICAgICAgdGhpcy5oYW5kbGVDaGFuZ2UoKTtcbiAgICAgICAgICB0aGlzLnBpY2tlclZpc2libGUgPSB0aGlzLnBpY2tlci52aXNpYmxlID0gZmFsc2U7XG4gICAgICAgICAgdGhpcy5ibHVyKCk7XG4gICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gdXNlciBtYXkgY2hhbmdlIGZvY3VzIGJldHdlZW4gdHdvIGlucHV0XG4gICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoX3RoaXMucmVmSW5wdXQuaW5kZXhPZihkb2N1bWVudC5hY3RpdmVFbGVtZW50KSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgX3RoaXMucGlja2VyVmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgICBfdGhpcy5ibHVyKCk7XG4gICAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sIDApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gRW50ZXJcbiAgICAgIGlmIChrZXlDb2RlID09PSAxMykge1xuICAgICAgICBpZiAodGhpcy51c2VySW5wdXQgPT09ICcnIHx8IHRoaXMuaXNWYWxpZFZhbHVlKHRoaXMucGFyc2VTdHJpbmcodGhpcy5kaXNwbGF5VmFsdWUpKSkge1xuICAgICAgICAgIHRoaXMuaGFuZGxlQ2hhbmdlKCk7XG4gICAgICAgICAgdGhpcy5waWNrZXJWaXNpYmxlID0gdGhpcy5waWNrZXIudmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICAgIHRoaXMuYmx1cigpO1xuICAgICAgICB9XG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIGlmIHVzZXIgaXMgdHlwaW5nLCBkbyBub3QgbGV0IHBpY2tlciBoYW5kbGUga2V5IGlucHV0XG4gICAgICBpZiAodGhpcy51c2VySW5wdXQpIHtcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gZGVsZWdhdGUgb3RoZXIga2V5cyB0byBwYW5lbFxuICAgICAgaWYgKHRoaXMucGlja2VyICYmIHRoaXMucGlja2VyLmhhbmRsZUtleWRvd24pIHtcbiAgICAgICAgdGhpcy5waWNrZXIuaGFuZGxlS2V5ZG93bihldmVudCk7XG4gICAgICB9XG4gICAgfSxcbiAgICBoYW5kbGVSYW5nZUNsaWNrOiBmdW5jdGlvbiBoYW5kbGVSYW5nZUNsaWNrKCkge1xuICAgICAgdmFyIHR5cGUgPSB0aGlzLnR5cGU7XG5cbiAgICAgIGlmIChIQVZFX1RSSUdHRVJfVFlQRVMuaW5kZXhPZih0eXBlKSAhPT0gLTEgJiYgIXRoaXMucGlja2VyVmlzaWJsZSkge1xuICAgICAgICB0aGlzLnBpY2tlclZpc2libGUgPSB0cnVlO1xuICAgICAgfVxuICAgICAgdGhpcy4kZW1pdCgnZm9jdXMnLCB0aGlzKTtcbiAgICB9LFxuICAgIGhpZGVQaWNrZXI6IGZ1bmN0aW9uIGhpZGVQaWNrZXIoKSB7XG4gICAgICBpZiAodGhpcy5waWNrZXIpIHtcbiAgICAgICAgdGhpcy5waWNrZXIucmVzZXRWaWV3ICYmIHRoaXMucGlja2VyLnJlc2V0VmlldygpO1xuICAgICAgICB0aGlzLnBpY2tlclZpc2libGUgPSB0aGlzLnBpY2tlci52aXNpYmxlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZGVzdHJveVBvcHBlcigpO1xuICAgICAgfVxuICAgIH0sXG4gICAgc2hvd1BpY2tlcjogZnVuY3Rpb24gc2hvd1BpY2tlcigpIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICBpZiAodGhpcy4kaXNTZXJ2ZXIpIHJldHVybjtcbiAgICAgIGlmICghdGhpcy5waWNrZXIpIHtcbiAgICAgICAgdGhpcy5tb3VudFBpY2tlcigpO1xuICAgICAgfVxuICAgICAgdGhpcy5waWNrZXJWaXNpYmxlID0gdGhpcy5waWNrZXIudmlzaWJsZSA9IHRydWU7XG5cbiAgICAgIHRoaXMudXBkYXRlUG9wcGVyKCk7XG5cbiAgICAgIHRoaXMucGlja2VyLnZhbHVlID0gdGhpcy5wYXJzZWRWYWx1ZTtcbiAgICAgIHRoaXMucGlja2VyLnJlc2V0VmlldyAmJiB0aGlzLnBpY2tlci5yZXNldFZpZXcoKTtcblxuICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpczIucGlja2VyLmFkanVzdFNwaW5uZXJzICYmIF90aGlzMi5waWNrZXIuYWRqdXN0U3Bpbm5lcnMoKTtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgbW91bnRQaWNrZXI6IGZ1bmN0aW9uIG1vdW50UGlja2VyKCkge1xuICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICAgIHRoaXMucGlja2VyID0gbmV3IGV4dGVybmFsX3Z1ZV9kZWZhdWx0LmEodGhpcy5wYW5lbCkuJG1vdW50KCk7XG4gICAgICB0aGlzLnBpY2tlci5kZWZhdWx0VmFsdWUgPSB0aGlzLmRlZmF1bHRWYWx1ZTtcbiAgICAgIHRoaXMucGlja2VyLmRlZmF1bHRUaW1lID0gdGhpcy5kZWZhdWx0VGltZTtcbiAgICAgIHRoaXMucGlja2VyLnBvcHBlckNsYXNzID0gdGhpcy5wb3BwZXJDbGFzcztcbiAgICAgIHRoaXMucG9wcGVyRWxtID0gdGhpcy5waWNrZXIuJGVsO1xuICAgICAgdGhpcy5waWNrZXIud2lkdGggPSB0aGlzLnJlZmVyZW5jZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aDtcbiAgICAgIHRoaXMucGlja2VyLnNob3dUaW1lID0gdGhpcy50eXBlID09PSAnZGF0ZXRpbWUnIHx8IHRoaXMudHlwZSA9PT0gJ2RhdGV0aW1lcmFuZ2UnO1xuICAgICAgdGhpcy5waWNrZXIuc2VsZWN0aW9uTW9kZSA9IHRoaXMuc2VsZWN0aW9uTW9kZTtcbiAgICAgIHRoaXMucGlja2VyLnVubGlua1BhbmVscyA9IHRoaXMudW5saW5rUGFuZWxzO1xuICAgICAgdGhpcy5waWNrZXIuYXJyb3dDb250cm9sID0gdGhpcy5hcnJvd0NvbnRyb2wgfHwgdGhpcy50aW1lQXJyb3dDb250cm9sIHx8IGZhbHNlO1xuICAgICAgdGhpcy4kd2F0Y2goJ2Zvcm1hdCcsIGZ1bmN0aW9uIChmb3JtYXQpIHtcbiAgICAgICAgX3RoaXMzLnBpY2tlci5mb3JtYXQgPSBmb3JtYXQ7XG4gICAgICB9KTtcblxuICAgICAgdmFyIHVwZGF0ZU9wdGlvbnMgPSBmdW5jdGlvbiB1cGRhdGVPcHRpb25zKCkge1xuICAgICAgICB2YXIgb3B0aW9ucyA9IF90aGlzMy5waWNrZXJPcHRpb25zO1xuXG4gICAgICAgIGlmIChvcHRpb25zICYmIG9wdGlvbnMuc2VsZWN0YWJsZVJhbmdlKSB7XG4gICAgICAgICAgdmFyIHJhbmdlcyA9IG9wdGlvbnMuc2VsZWN0YWJsZVJhbmdlO1xuICAgICAgICAgIHZhciBwYXJzZXIgPSBUWVBFX1ZBTFVFX1JFU09MVkVSX01BUC5kYXRldGltZXJhbmdlLnBhcnNlcjtcbiAgICAgICAgICB2YXIgZm9ybWF0ID0gREVGQVVMVF9GT1JNQVRTLnRpbWVyYW5nZTtcblxuICAgICAgICAgIHJhbmdlcyA9IEFycmF5LmlzQXJyYXkocmFuZ2VzKSA/IHJhbmdlcyA6IFtyYW5nZXNdO1xuICAgICAgICAgIF90aGlzMy5waWNrZXIuc2VsZWN0YWJsZVJhbmdlID0gcmFuZ2VzLm1hcChmdW5jdGlvbiAocmFuZ2UpIHtcbiAgICAgICAgICAgIHJldHVybiBwYXJzZXIocmFuZ2UsIGZvcm1hdCwgX3RoaXMzLnJhbmdlU2VwYXJhdG9yKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAodmFyIG9wdGlvbiBpbiBvcHRpb25zKSB7XG4gICAgICAgICAgaWYgKG9wdGlvbnMuaGFzT3duUHJvcGVydHkob3B0aW9uKSAmJlxuICAgICAgICAgIC8vIOW/veeVpSB0aW1lLXBpY2tlciDnmoTor6XphY3nva7poblcbiAgICAgICAgICBvcHRpb24gIT09ICdzZWxlY3RhYmxlUmFuZ2UnKSB7XG4gICAgICAgICAgICBfdGhpczMucGlja2VyW29wdGlvbl0gPSBvcHRpb25zW29wdGlvbl07XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gbWFpbiBmb3JtYXQgbXVzdCBwcmV2YWlsIG92ZXIgdW5kb2N1bWVudGVkIHBpY2tlck9wdGlvbnMuZm9ybWF0XG4gICAgICAgIGlmIChfdGhpczMuZm9ybWF0KSB7XG4gICAgICAgICAgX3RoaXMzLnBpY2tlci5mb3JtYXQgPSBfdGhpczMuZm9ybWF0O1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgdXBkYXRlT3B0aW9ucygpO1xuICAgICAgdGhpcy51bndhdGNoUGlja2VyT3B0aW9ucyA9IHRoaXMuJHdhdGNoKCdwaWNrZXJPcHRpb25zJywgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdXBkYXRlT3B0aW9ucygpO1xuICAgICAgfSwgeyBkZWVwOiB0cnVlIH0pO1xuICAgICAgdGhpcy4kZWwuYXBwZW5kQ2hpbGQodGhpcy5waWNrZXIuJGVsKTtcbiAgICAgIHRoaXMucGlja2VyLnJlc2V0VmlldyAmJiB0aGlzLnBpY2tlci5yZXNldFZpZXcoKTtcblxuICAgICAgdGhpcy5waWNrZXIuJG9uKCdkb2Rlc3Ryb3knLCB0aGlzLmRvRGVzdHJveSk7XG4gICAgICB0aGlzLnBpY2tlci4kb24oJ3BpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBkYXRlID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAnJztcbiAgICAgICAgdmFyIHZpc2libGUgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IGZhbHNlO1xuXG4gICAgICAgIF90aGlzMy51c2VySW5wdXQgPSBudWxsO1xuICAgICAgICBfdGhpczMucGlja2VyVmlzaWJsZSA9IF90aGlzMy5waWNrZXIudmlzaWJsZSA9IHZpc2libGU7XG4gICAgICAgIF90aGlzMy5lbWl0SW5wdXQoZGF0ZSk7XG4gICAgICAgIF90aGlzMy5waWNrZXIucmVzZXRWaWV3ICYmIF90aGlzMy5waWNrZXIucmVzZXRWaWV3KCk7XG4gICAgICB9KTtcblxuICAgICAgdGhpcy5waWNrZXIuJG9uKCdzZWxlY3QtcmFuZ2UnLCBmdW5jdGlvbiAoc3RhcnQsIGVuZCwgcG9zKSB7XG4gICAgICAgIGlmIChfdGhpczMucmVmSW5wdXQubGVuZ3RoID09PSAwKSByZXR1cm47XG4gICAgICAgIGlmICghcG9zIHx8IHBvcyA9PT0gJ21pbicpIHtcbiAgICAgICAgICBfdGhpczMucmVmSW5wdXRbMF0uc2V0U2VsZWN0aW9uUmFuZ2Uoc3RhcnQsIGVuZCk7XG4gICAgICAgICAgX3RoaXMzLnJlZklucHV0WzBdLmZvY3VzKCk7XG4gICAgICAgIH0gZWxzZSBpZiAocG9zID09PSAnbWF4Jykge1xuICAgICAgICAgIF90aGlzMy5yZWZJbnB1dFsxXS5zZXRTZWxlY3Rpb25SYW5nZShzdGFydCwgZW5kKTtcbiAgICAgICAgICBfdGhpczMucmVmSW5wdXRbMV0uZm9jdXMoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSxcbiAgICB1bm1vdW50UGlja2VyOiBmdW5jdGlvbiB1bm1vdW50UGlja2VyKCkge1xuICAgICAgaWYgKHRoaXMucGlja2VyKSB7XG4gICAgICAgIHRoaXMucGlja2VyLiRkZXN0cm95KCk7XG4gICAgICAgIHRoaXMucGlja2VyLiRvZmYoKTtcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLnVud2F0Y2hQaWNrZXJPcHRpb25zID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgdGhpcy51bndhdGNoUGlja2VyT3B0aW9ucygpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucGlja2VyLiRlbC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMucGlja2VyLiRlbCk7XG4gICAgICB9XG4gICAgfSxcbiAgICBlbWl0Q2hhbmdlOiBmdW5jdGlvbiBlbWl0Q2hhbmdlKHZhbCkge1xuICAgICAgLy8gZGV0ZXJtaW5lIHVzZXIgcmVhbCBjaGFuZ2Ugb25seVxuICAgICAgaWYgKCF2YWx1ZUVxdWFscyh2YWwsIHRoaXMudmFsdWVPbk9wZW4pKSB7XG4gICAgICAgIHRoaXMuJGVtaXQoJ2NoYW5nZScsIHZhbCk7XG4gICAgICAgIHRoaXMudmFsdWVPbk9wZW4gPSB2YWw7XG4gICAgICAgIGlmICh0aGlzLnZhbGlkYXRlRXZlbnQpIHtcbiAgICAgICAgICB0aGlzLmRpc3BhdGNoKCdFbEZvcm1JdGVtJywgJ2VsLmZvcm0uY2hhbmdlJywgdmFsKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgZW1pdElucHV0OiBmdW5jdGlvbiBlbWl0SW5wdXQodmFsKSB7XG4gICAgICB2YXIgZm9ybWF0dGVkID0gdGhpcy5mb3JtYXRUb1ZhbHVlKHZhbCk7XG4gICAgICBpZiAoIXZhbHVlRXF1YWxzKHRoaXMudmFsdWUsIGZvcm1hdHRlZCkpIHtcbiAgICAgICAgdGhpcy4kZW1pdCgnaW5wdXQnLCBmb3JtYXR0ZWQpO1xuICAgICAgfVxuICAgIH0sXG4gICAgaXNWYWxpZFZhbHVlOiBmdW5jdGlvbiBpc1ZhbGlkVmFsdWUodmFsdWUpIHtcbiAgICAgIGlmICghdGhpcy5waWNrZXIpIHtcbiAgICAgICAgdGhpcy5tb3VudFBpY2tlcigpO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMucGlja2VyLmlzVmFsaWRWYWx1ZSkge1xuICAgICAgICByZXR1cm4gdmFsdWUgJiYgdGhpcy5waWNrZXIuaXNWYWxpZFZhbHVlKHZhbHVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgfVxufSk7XG4vLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3BhY2thZ2VzL2RhdGUtcGlja2VyL3NyYy9waWNrZXIudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJlxuIC8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gdmFyIHNyY19waWNrZXJ2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc18gPSAocGlja2VydnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfKTsgXG4vLyBFWFRFUk5BTCBNT0RVTEU6IC4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3J1bnRpbWUvY29tcG9uZW50Tm9ybWFsaXplci5qc1xudmFyIGNvbXBvbmVudE5vcm1hbGl6ZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG4vLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3BhY2thZ2VzL2RhdGUtcGlja2VyL3NyYy9waWNrZXIudnVlXG5cblxuXG5cblxuLyogbm9ybWFsaXplIGNvbXBvbmVudCAqL1xuXG52YXIgY29tcG9uZW50ID0gT2JqZWN0KGNvbXBvbmVudE5vcm1hbGl6ZXJbXCJhXCIgLyogZGVmYXVsdCAqL10pKFxuICBzcmNfcGlja2VydnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfLFxuICByZW5kZXIsXG4gIHN0YXRpY1JlbmRlckZucyxcbiAgZmFsc2UsXG4gIG51bGwsXG4gIG51bGwsXG4gIG51bGxcbiAgXG4pXG5cbi8qIGhvdCByZWxvYWQgKi9cbmlmIChmYWxzZSkgeyB2YXIgYXBpOyB9XG5jb21wb25lbnQub3B0aW9ucy5fX2ZpbGUgPSBcInBhY2thZ2VzL2RhdGUtcGlja2VyL3NyYy9waWNrZXIudnVlXCJcbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gdmFyIHBpY2tlciA9IF9fd2VicGFja19leHBvcnRzX19bXCJhXCJdID0gKGNvbXBvbmVudC5leHBvcnRzKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIDQ6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImVsZW1lbnQtdWkvbGliL21peGlucy9lbWl0dGVyXCIpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gNTpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiZWxlbWVudC11aS9saWIvdXRpbHMvdnVlLXBvcHBlclwiKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIDc6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcInZ1ZVwiKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIDczOlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcblxuLy8gRVhURVJOQUwgTU9EVUxFOiAuL3BhY2thZ2VzL2RhdGUtcGlja2VyL3NyYy9waWNrZXIudnVlICsgNCBtb2R1bGVzXG52YXIgcGlja2VyID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMik7XG5cbi8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2xvYWRlcnMvdGVtcGxhdGVMb2FkZXIuanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYj8/dnVlLWxvYWRlci1vcHRpb25zIS4vcGFja2FnZXMvZGF0ZS1waWNrZXIvc3JjL3BhbmVsL3RpbWUtc2VsZWN0LnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD01MWFiOTMyMCZcbnZhciByZW5kZXIgPSBmdW5jdGlvbigpIHtcbiAgdmFyIF92bSA9IHRoaXNcbiAgdmFyIF9oID0gX3ZtLiRjcmVhdGVFbGVtZW50XG4gIHZhciBfYyA9IF92bS5fc2VsZi5fYyB8fCBfaFxuICByZXR1cm4gX2MoXG4gICAgXCJ0cmFuc2l0aW9uXCIsXG4gICAge1xuICAgICAgYXR0cnM6IHsgbmFtZTogXCJlbC16b29tLWluLXRvcFwiIH0sXG4gICAgICBvbjoge1xuICAgICAgICBcImJlZm9yZS1lbnRlclwiOiBfdm0uaGFuZGxlTWVudUVudGVyLFxuICAgICAgICBcImFmdGVyLWxlYXZlXCI6IGZ1bmN0aW9uKCRldmVudCkge1xuICAgICAgICAgIF92bS4kZW1pdChcImRvZGVzdHJveVwiKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBbXG4gICAgICBfYyhcbiAgICAgICAgXCJkaXZcIixcbiAgICAgICAge1xuICAgICAgICAgIGRpcmVjdGl2ZXM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgbmFtZTogXCJzaG93XCIsXG4gICAgICAgICAgICAgIHJhd05hbWU6IFwidi1zaG93XCIsXG4gICAgICAgICAgICAgIHZhbHVlOiBfdm0udmlzaWJsZSxcbiAgICAgICAgICAgICAgZXhwcmVzc2lvbjogXCJ2aXNpYmxlXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgICBdLFxuICAgICAgICAgIHJlZjogXCJwb3BwZXJcIixcbiAgICAgICAgICBzdGF0aWNDbGFzczogXCJlbC1waWNrZXItcGFuZWwgdGltZS1zZWxlY3QgZWwtcG9wcGVyXCIsXG4gICAgICAgICAgY2xhc3M6IF92bS5wb3BwZXJDbGFzcyxcbiAgICAgICAgICBzdHlsZTogeyB3aWR0aDogX3ZtLndpZHRoICsgXCJweFwiIH1cbiAgICAgICAgfSxcbiAgICAgICAgW1xuICAgICAgICAgIF9jKFxuICAgICAgICAgICAgXCJlbC1zY3JvbGxiYXJcIixcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgYXR0cnM6IHsgbm9yZXNpemU6IFwiXCIsIFwid3JhcC1jbGFzc1wiOiBcImVsLXBpY2tlci1wYW5lbF9fY29udGVudFwiIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfdm0uX2woX3ZtLml0ZW1zLCBmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgICAgICAgIHJldHVybiBfYyhcbiAgICAgICAgICAgICAgICBcImRpdlwiLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIGtleTogaXRlbS52YWx1ZSxcbiAgICAgICAgICAgICAgICAgIHN0YXRpY0NsYXNzOiBcInRpbWUtc2VsZWN0LWl0ZW1cIixcbiAgICAgICAgICAgICAgICAgIGNsYXNzOiB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkOiBfdm0udmFsdWUgPT09IGl0ZW0udmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIGRpc2FibGVkOiBpdGVtLmRpc2FibGVkLFxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBpdGVtLnZhbHVlID09PSBfdm0uZGVmYXVsdFZhbHVlXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgYXR0cnM6IHsgZGlzYWJsZWQ6IGl0ZW0uZGlzYWJsZWQgfSxcbiAgICAgICAgICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbigkZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICBfdm0uaGFuZGxlQ2xpY2soaXRlbSlcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgW192bS5fdihfdm0uX3MoaXRlbS52YWx1ZSkpXVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIDBcbiAgICAgICAgICApXG4gICAgICAgIF0sXG4gICAgICAgIDFcbiAgICAgIClcbiAgICBdXG4gIClcbn1cbnZhciBzdGF0aWNSZW5kZXJGbnMgPSBbXVxucmVuZGVyLl93aXRoU3RyaXBwZWQgPSB0cnVlXG5cblxuLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9wYWNrYWdlcy9kYXRlLXBpY2tlci9zcmMvcGFuZWwvdGltZS1zZWxlY3QudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTUxYWI5MzIwJlxuXG4vLyBFWFRFUk5BTCBNT0RVTEU6IGV4dGVybmFsIFwiZWxlbWVudC11aS9saWIvc2Nyb2xsYmFyXCJcbnZhciBzY3JvbGxiYXJfID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNSk7XG52YXIgc2Nyb2xsYmFyX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKHNjcm9sbGJhcl8pO1xuXG4vLyBFWFRFUk5BTCBNT0RVTEU6IGV4dGVybmFsIFwiZWxlbWVudC11aS9saWIvdXRpbHMvc2Nyb2xsLWludG8tdmlld1wiXG52YXIgc2Nyb2xsX2ludG9fdmlld18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMxKTtcbnZhciBzY3JvbGxfaW50b192aWV3X2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKHNjcm9sbF9pbnRvX3ZpZXdfKTtcblxuLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9ub2RlX21vZHVsZXMvYmFiZWwtbG9hZGVyL2xpYiEuL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYj8/dnVlLWxvYWRlci1vcHRpb25zIS4vcGFja2FnZXMvZGF0ZS1waWNrZXIvc3JjL3BhbmVsL3RpbWUtc2VsZWN0LnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyZcbi8vXG4vL1xuLy9cbi8vXG4vL1xuLy9cbi8vXG4vL1xuLy9cbi8vXG4vL1xuLy9cbi8vXG4vL1xuLy9cbi8vXG4vL1xuLy9cbi8vXG4vL1xuXG5cblxuXG52YXIgcGFyc2VUaW1lID0gZnVuY3Rpb24gcGFyc2VUaW1lKHRpbWUpIHtcbiAgdmFyIHZhbHVlcyA9ICh0aW1lIHx8ICcnKS5zcGxpdCgnOicpO1xuICBpZiAodmFsdWVzLmxlbmd0aCA+PSAyKSB7XG4gICAgdmFyIGhvdXJzID0gcGFyc2VJbnQodmFsdWVzWzBdLCAxMCk7XG4gICAgdmFyIG1pbnV0ZXMgPSBwYXJzZUludCh2YWx1ZXNbMV0sIDEwKTtcblxuICAgIHJldHVybiB7XG4gICAgICBob3VyczogaG91cnMsXG4gICAgICBtaW51dGVzOiBtaW51dGVzXG4gICAgfTtcbiAgfVxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICByZXR1cm4gbnVsbDtcbn07XG5cbnZhciBjb21wYXJlVGltZSA9IGZ1bmN0aW9uIGNvbXBhcmVUaW1lKHRpbWUxLCB0aW1lMikge1xuICB2YXIgdmFsdWUxID0gcGFyc2VUaW1lKHRpbWUxKTtcbiAgdmFyIHZhbHVlMiA9IHBhcnNlVGltZSh0aW1lMik7XG5cbiAgdmFyIG1pbnV0ZXMxID0gdmFsdWUxLm1pbnV0ZXMgKyB2YWx1ZTEuaG91cnMgKiA2MDtcbiAgdmFyIG1pbnV0ZXMyID0gdmFsdWUyLm1pbnV0ZXMgKyB2YWx1ZTIuaG91cnMgKiA2MDtcblxuICBpZiAobWludXRlczEgPT09IG1pbnV0ZXMyKSB7XG4gICAgcmV0dXJuIDA7XG4gIH1cblxuICByZXR1cm4gbWludXRlczEgPiBtaW51dGVzMiA/IDEgOiAtMTtcbn07XG5cbnZhciBmb3JtYXRUaW1lID0gZnVuY3Rpb24gZm9ybWF0VGltZSh0aW1lKSB7XG4gIHJldHVybiAodGltZS5ob3VycyA8IDEwID8gJzAnICsgdGltZS5ob3VycyA6IHRpbWUuaG91cnMpICsgJzonICsgKHRpbWUubWludXRlcyA8IDEwID8gJzAnICsgdGltZS5taW51dGVzIDogdGltZS5taW51dGVzKTtcbn07XG5cbnZhciBuZXh0VGltZSA9IGZ1bmN0aW9uIG5leHRUaW1lKHRpbWUsIHN0ZXApIHtcbiAgdmFyIHRpbWVWYWx1ZSA9IHBhcnNlVGltZSh0aW1lKTtcbiAgdmFyIHN0ZXBWYWx1ZSA9IHBhcnNlVGltZShzdGVwKTtcblxuICB2YXIgbmV4dCA9IHtcbiAgICBob3VyczogdGltZVZhbHVlLmhvdXJzLFxuICAgIG1pbnV0ZXM6IHRpbWVWYWx1ZS5taW51dGVzXG4gIH07XG5cbiAgbmV4dC5taW51dGVzICs9IHN0ZXBWYWx1ZS5taW51dGVzO1xuICBuZXh0LmhvdXJzICs9IHN0ZXBWYWx1ZS5ob3VycztcblxuICBuZXh0LmhvdXJzICs9IE1hdGguZmxvb3IobmV4dC5taW51dGVzIC8gNjApO1xuICBuZXh0Lm1pbnV0ZXMgPSBuZXh0Lm1pbnV0ZXMgJSA2MDtcblxuICByZXR1cm4gZm9ybWF0VGltZShuZXh0KTtcbn07XG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gdmFyIHRpbWVfc2VsZWN0dnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfID0gKHtcbiAgY29tcG9uZW50czogeyBFbFNjcm9sbGJhcjogc2Nyb2xsYmFyX2RlZmF1bHQuYSB9LFxuXG4gIHdhdGNoOiB7XG4gICAgdmFsdWU6IGZ1bmN0aW9uIHZhbHVlKHZhbCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgaWYgKCF2YWwpIHJldHVybjtcbiAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzLnNjcm9sbFRvT3B0aW9uKCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sXG5cbiAgbWV0aG9kczoge1xuICAgIGhhbmRsZUNsaWNrOiBmdW5jdGlvbiBoYW5kbGVDbGljayhpdGVtKSB7XG4gICAgICBpZiAoIWl0ZW0uZGlzYWJsZWQpIHtcbiAgICAgICAgdGhpcy4kZW1pdCgncGljaycsIGl0ZW0udmFsdWUpO1xuICAgICAgfVxuICAgIH0sXG4gICAgaGFuZGxlQ2xlYXI6IGZ1bmN0aW9uIGhhbmRsZUNsZWFyKCkge1xuICAgICAgdGhpcy4kZW1pdCgncGljaycsIG51bGwpO1xuICAgIH0sXG4gICAgc2Nyb2xsVG9PcHRpb246IGZ1bmN0aW9uIHNjcm9sbFRvT3B0aW9uKCkge1xuICAgICAgdmFyIHNlbGVjdG9yID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAnLnNlbGVjdGVkJztcblxuICAgICAgdmFyIG1lbnUgPSB0aGlzLiRyZWZzLnBvcHBlci5xdWVyeVNlbGVjdG9yKCcuZWwtcGlja2VyLXBhbmVsX19jb250ZW50Jyk7XG4gICAgICBzY3JvbGxfaW50b192aWV3X2RlZmF1bHQoKShtZW51LCBtZW51LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpKTtcbiAgICB9LFxuICAgIGhhbmRsZU1lbnVFbnRlcjogZnVuY3Rpb24gaGFuZGxlTWVudUVudGVyKCkge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIHZhciBzZWxlY3RlZCA9IHRoaXMuaXRlbXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgIHJldHVybiBpdGVtLnZhbHVlO1xuICAgICAgfSkuaW5kZXhPZih0aGlzLnZhbHVlKSAhPT0gLTE7XG4gICAgICB2YXIgaGFzRGVmYXVsdCA9IHRoaXMuaXRlbXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgIHJldHVybiBpdGVtLnZhbHVlO1xuICAgICAgfSkuaW5kZXhPZih0aGlzLmRlZmF1bHRWYWx1ZSkgIT09IC0xO1xuICAgICAgdmFyIG9wdGlvbiA9IHNlbGVjdGVkICYmICcuc2VsZWN0ZWQnIHx8IGhhc0RlZmF1bHQgJiYgJy5kZWZhdWx0JyB8fCAnLnRpbWUtc2VsZWN0LWl0ZW06bm90KC5kaXNhYmxlZCknO1xuICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX3RoaXMyLnNjcm9sbFRvT3B0aW9uKG9wdGlvbik7XG4gICAgICB9KTtcbiAgICB9LFxuICAgIHNjcm9sbERvd246IGZ1bmN0aW9uIHNjcm9sbERvd24oc3RlcCkge1xuICAgICAgdmFyIGl0ZW1zID0gdGhpcy5pdGVtcztcbiAgICAgIHZhciBsZW5ndGggPSBpdGVtcy5sZW5ndGg7XG4gICAgICB2YXIgdG90YWwgPSBpdGVtcy5sZW5ndGg7XG4gICAgICB2YXIgaW5kZXggPSBpdGVtcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgcmV0dXJuIGl0ZW0udmFsdWU7XG4gICAgICB9KS5pbmRleE9mKHRoaXMudmFsdWUpO1xuICAgICAgd2hpbGUgKHRvdGFsLS0pIHtcbiAgICAgICAgaW5kZXggPSAoaW5kZXggKyBzdGVwICsgbGVuZ3RoKSAlIGxlbmd0aDtcbiAgICAgICAgaWYgKCFpdGVtc1tpbmRleF0uZGlzYWJsZWQpIHtcbiAgICAgICAgICB0aGlzLiRlbWl0KCdwaWNrJywgaXRlbXNbaW5kZXhdLnZhbHVlLCB0cnVlKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIGlzVmFsaWRWYWx1ZTogZnVuY3Rpb24gaXNWYWxpZFZhbHVlKGRhdGUpIHtcbiAgICAgIHJldHVybiB0aGlzLml0ZW1zLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICByZXR1cm4gIWl0ZW0uZGlzYWJsZWQ7XG4gICAgICB9KS5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgcmV0dXJuIGl0ZW0udmFsdWU7XG4gICAgICB9KS5pbmRleE9mKGRhdGUpICE9PSAtMTtcbiAgICB9LFxuICAgIGhhbmRsZUtleWRvd246IGZ1bmN0aW9uIGhhbmRsZUtleWRvd24oZXZlbnQpIHtcbiAgICAgIHZhciBrZXlDb2RlID0gZXZlbnQua2V5Q29kZTtcbiAgICAgIGlmIChrZXlDb2RlID09PSAzOCB8fCBrZXlDb2RlID09PSA0MCkge1xuICAgICAgICB2YXIgbWFwcGluZyA9IHsgNDA6IDEsIDM4OiAtMSB9O1xuICAgICAgICB2YXIgb2Zmc2V0ID0gbWFwcGluZ1trZXlDb2RlLnRvU3RyaW5nKCldO1xuICAgICAgICB0aGlzLnNjcm9sbERvd24ob2Zmc2V0KTtcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG5cbiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcG9wcGVyQ2xhc3M6ICcnLFxuICAgICAgc3RhcnQ6ICcwOTowMCcsXG4gICAgICBlbmQ6ICcxODowMCcsXG4gICAgICBzdGVwOiAnMDA6MzAnLFxuICAgICAgdmFsdWU6ICcnLFxuICAgICAgZGVmYXVsdFZhbHVlOiAnJyxcbiAgICAgIHZpc2libGU6IGZhbHNlLFxuICAgICAgbWluVGltZTogJycsXG4gICAgICBtYXhUaW1lOiAnJyxcbiAgICAgIHdpZHRoOiAwXG4gICAgfTtcbiAgfSxcblxuXG4gIGNvbXB1dGVkOiB7XG4gICAgaXRlbXM6IGZ1bmN0aW9uIGl0ZW1zKCkge1xuICAgICAgdmFyIHN0YXJ0ID0gdGhpcy5zdGFydDtcbiAgICAgIHZhciBlbmQgPSB0aGlzLmVuZDtcbiAgICAgIHZhciBzdGVwID0gdGhpcy5zdGVwO1xuXG4gICAgICB2YXIgcmVzdWx0ID0gW107XG5cbiAgICAgIGlmIChzdGFydCAmJiBlbmQgJiYgc3RlcCkge1xuICAgICAgICB2YXIgY3VycmVudCA9IHN0YXJ0O1xuICAgICAgICB3aGlsZSAoY29tcGFyZVRpbWUoY3VycmVudCwgZW5kKSA8PSAwKSB7XG4gICAgICAgICAgcmVzdWx0LnB1c2goe1xuICAgICAgICAgICAgdmFsdWU6IGN1cnJlbnQsXG4gICAgICAgICAgICBkaXNhYmxlZDogY29tcGFyZVRpbWUoY3VycmVudCwgdGhpcy5taW5UaW1lIHx8ICctMTotMScpIDw9IDAgfHwgY29tcGFyZVRpbWUoY3VycmVudCwgdGhpcy5tYXhUaW1lIHx8ICcxMDA6MTAwJykgPj0gMFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGN1cnJlbnQgPSBuZXh0VGltZShjdXJyZW50LCBzdGVwKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgfVxufSk7XG4vLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3BhY2thZ2VzL2RhdGUtcGlja2VyL3NyYy9wYW5lbC90aW1lLXNlbGVjdC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmXG4gLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyB2YXIgcGFuZWxfdGltZV9zZWxlY3R2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc18gPSAodGltZV9zZWxlY3R2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc18pOyBcbi8vIEVYVEVSTkFMIE1PRFVMRTogLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvcnVudGltZS9jb21wb25lbnROb3JtYWxpemVyLmpzXG52YXIgY29tcG9uZW50Tm9ybWFsaXplciA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbi8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vcGFja2FnZXMvZGF0ZS1waWNrZXIvc3JjL3BhbmVsL3RpbWUtc2VsZWN0LnZ1ZVxuXG5cblxuXG5cbi8qIG5vcm1hbGl6ZSBjb21wb25lbnQgKi9cblxudmFyIGNvbXBvbmVudCA9IE9iamVjdChjb21wb25lbnROb3JtYWxpemVyW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShcbiAgcGFuZWxfdGltZV9zZWxlY3R2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc18sXG4gIHJlbmRlcixcbiAgc3RhdGljUmVuZGVyRm5zLFxuICBmYWxzZSxcbiAgbnVsbCxcbiAgbnVsbCxcbiAgbnVsbFxuICBcbilcblxuLyogaG90IHJlbG9hZCAqL1xuaWYgKGZhbHNlKSB7IHZhciBhcGk7IH1cbmNvbXBvbmVudC5vcHRpb25zLl9fZmlsZSA9IFwicGFja2FnZXMvZGF0ZS1waWNrZXIvc3JjL3BhbmVsL3RpbWUtc2VsZWN0LnZ1ZVwiXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIHZhciB0aW1lX3NlbGVjdCA9IChjb21wb25lbnQuZXhwb3J0cyk7XG4vLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3BhY2thZ2VzL2RhdGUtcGlja2VyL3NyYy9waWNrZXIvdGltZS1zZWxlY3QuanNcblxuXG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gdmFyIHBpY2tlcl90aW1lX3NlbGVjdCA9ICh7XG4gIG1peGluczogW3BpY2tlcltcImFcIiAvKiBkZWZhdWx0ICovXV0sXG5cbiAgbmFtZTogJ0VsVGltZVNlbGVjdCcsXG5cbiAgY29tcG9uZW50TmFtZTogJ0VsVGltZVNlbGVjdCcsXG5cbiAgcHJvcHM6IHtcbiAgICB0eXBlOiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICBkZWZhdWx0OiAndGltZS1zZWxlY3QnXG4gICAgfVxuICB9LFxuXG4gIGJlZm9yZUNyZWF0ZTogZnVuY3Rpb24gYmVmb3JlQ3JlYXRlKCkge1xuICAgIHRoaXMucGFuZWwgPSB0aW1lX3NlbGVjdDtcbiAgfVxufSk7XG4vLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3BhY2thZ2VzL3RpbWUtc2VsZWN0L2luZGV4LmpzXG5cblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbnBpY2tlcl90aW1lX3NlbGVjdC5pbnN0YWxsID0gZnVuY3Rpb24gKFZ1ZSkge1xuICBWdWUuY29tcG9uZW50KHBpY2tlcl90aW1lX3NlbGVjdC5uYW1lLCBwaWNrZXJfdGltZV9zZWxlY3QpO1xufTtcblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyB2YXIgcGFja2FnZXNfdGltZV9zZWxlY3QgPSBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChwaWNrZXJfdGltZV9zZWxlY3QpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gOTpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiZWxlbWVudC11aS9saWIvdXRpbHMvbWVyZ2VcIik7XG5cbi8qKiovIH0pXG5cbi8qKioqKiovIH0pOyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/element-ui/lib/time-select.js\n")}}]);